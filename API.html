<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Emerald Frame API</title>
<style type="text/css">
body {
  margin: 0;
}

h1, h2, h3, h4, h5 {
  text-indent: -4.0em;
  padding-left: 4.75em;
}

h1 {
  background-color: #fcc;
  border-top: solid red 4px;
  border-bottom: solid red 4px;
  margin-top: 1.5em;
}

h2, h3 {
  background-color: #ccf;
  border-top: solid blue 2px;
  border-bottom: solid blue 2px;
}

h4 {
  background-color: #cfc;
  padding-top: 0.5em;
  padding-bottom: 0.5em;
}

p {
  margin-left: 1.0em;
  padding-right: 2.0em;
  text-indent: 1.5em;
  line-height: 150%;
}

ul {
  list-style: none;
  padding-left: 2.5em;
}

ul ul {
  padding-left: 1.5em;
}

ul.contents {
  padding-left: 0.5em;
}

ul.contents a {
  text-decoration: none;
}

table {
  margin-left: 2.5em;
}

th {
  text-align: left;
}

td, th {
  padding-left: 0.75em;
  padding-right: 0.75em;
}

td:first-child, th:first-child {
  padding-left: 0;
}

td:last-child, th:last-child {
  padding-right: 0;
}

.code, h4 {
  font-family: 'Courier New';
}

div.code {
  border: double black 4px;
  background-color: #afa;
  color: #080;
  font-weight: bold;
  padding: 0.75em;
  margin-left: 2em;
  max-width: 60em;
  white-space: pre;
  overflow: auto;
}

div.title {
  font-size: 200%;
  text-align: center;
  margin: 25px;
}
</style>
</head>
<body>

<div class="title"><img src="logo.png" /><br />Emerald Frame API</div>

<h1>Contents</h1>
<ul class="contents">
<li><a href="#S_introduction"><b>1.</b> Introduction</a> <ul>
<li><a href="#S_introduction_downloads"><b>1.1.</b> Downloads</a></li>
<li><a href="#S_introduction_portability"><b>1.2.</b> Portability Advice</a></li>
<li><a href="#S_introduction_licensing"><b>1.3.</b> Licensing and its Ramifications for Deployment</a></li>
</ul></li>
<li><a href="#S_sample"><b>2.</b> Sample Programs</a> <ul>
<li><a href="#S_sample_skeleton"><b>2.1.</b> The Skeleton</a></li>
<li><a href="#S_sample_time"><b>2.2.</b> Timed Drawing</a></li>
<li><a href="#S_sample_textures"><b>2.3.</b> Loading Textures</a></li>
<li><a href="#S_sample_audio"><b>2.4.</b> Audio</a></li>
<li><a href="#S_sample_text"><b>2.5.</b> Text</a></li>
</ul></li>
<li><a href="#S_reference"><b>3.</b> Reference</a> <ul>
<li><a href="#S_reference_general"><b>3.1.</b> General</a> <ul>
<li><a href="#ef_init"><span class="code">ef_init</span></a></li>
<li><a href="#ef_main"><span class="code">ef_main</span></a></li>
<li><a href="#ef_version_string"><span class="code">ef_version_string</span></a></li>
<li><a href="#ef_error_string"><span class="code">ef_error_string</span></a></li>
</ul></li>
<li><a href="#S_reference_video"><b>3.2.</b> Video</a> <ul>
<li><a href="#S_reference_video_displays"><b>3.2.1.</b> Displays</a><ul>
<li><a href="#ef_video_current_display"><span class="code">ef_video_current_display</span></a></li>
<li><a href="#ef_video_next_display"><span class="code">ef_video_next_display</span></a></li>
<li><a href="#ef_display_depth"><span class="code">ef_display_depth</span></a></li>
<li><a href="#ef_display_width"><span class="code">ef_display_width</span></a></li>
<li><a href="#ef_display_height"><span class="code">ef_display_height</span></a></li>
</ul></li>
<li><a href="#S_reference_video_drawables"><b>3.2.2.</b> Drawables</a><ul>
<li><a href="#ef_video_new_drawable"><span class="code">ef_video_new_drawable</span></a></li>
<li><a href="#ef_drawable_delete"><span class="code">ef_drawable_delete</span></a></li>
<li><a href="#ef_drawable_set_title"><span class="code">ef_drawable_set_title</span></a></li>
<li><a href="#ef_drawable_set_draw_callback"><span class="code">ef_drawable_set_draw_callback</span></a></li>
<li><a href="#ef_drawable_redraw"><span class="code">ef_drawable_redraw</span></a></li>
<li><a href="#ef_drawable_make_current"><span class="code">ef_drawable_make_current</span></a></li>
<li><a href="#ef_drawable_swap_buffers"><span class="code">ef_drawable_swap_buffers</span></a></li>
</ul></li>
<li><a href="#S_reference_video_settings"><b>3.2.3.</b> Settings</a><ul>
<li><a href="#ef_video_set_double_buffer"><span class="code">ef_video_set_double_buffer</span></a></li>
<li><a href="#ef_video_set_stereo"><span class="code">ef_video_set_stereo</span></a></li>
<li><a href="#ef_video_set_aux_buffers"><span class="code">ef_video_set_aux_buffers</span></a></li>
<li><a href="#ef_video_set_color_size"><span class="code">ef_video_set_color_size</span></a></li>
<li><a href="#ef_video_set_alpha_size"><span class="code">ef_video_set_alpha_size</span></a></li>
<li><a href="#ef_video_set_depth_size"><span class="code">ef_video_set_depth_size</span></a></li>
<li><a href="#ef_video_set_stencil_size"><span class="code">ef_video_set_stencil_size</span></a></li>
<li><a href="#ef_video_set_accumulation_size"><span class="code">ef_video_set_accumulation_size</span></a></li>
<li><a href="#ef_video_set_samples"><span class="code">ef_video_set_samples</span></a></li>
<li><a href="#ef_video_set_aux_depth_stencil"><span class="code">ef_video_set_aux_depth_stencil</span></a></li>
<li><a href="#ef_video_set_color_float"><span class="code">ef_video_set_color_float</span></a></li>
<li><a href="#ef_video_set_multisample"><span class="code">ef_video_set_multisample</span></a></li>
<li><a href="#ef_video_set_supersample"><span class="code">ef_video_set_supersample</span></a></li>
<li><a href="#ef_video_set_sample_alpha"><span class="code">ef_video_set_sample_alpha</span></a></li>
</ul></li>
<li><a href="#S_reference_video_images"><b>3.2.4.</b> Image Files</a><ul>
<li><a href="#ef_video_load_texture_file"><span class="code">ef_video_load_texture_file</span></a></li>
<li><a href="#ef_video_load_texture_memory"><span class="code">ef_video_load_texture_memory</span></a></li>
</ul></li>
</ul></li>
<li><a href="#S_reference_audio"><b>3.3.</b> Audio</a> <ul>
<li><a href="#ef_audio_load_sound_file"><span class="code">ef_audio_load_sound_file</span></a></li>
<li><a href="#ef_audio_load_sound_memory"><span class="code">ef_audio_load_sound_memory</span></a></li>
</ul></li>
<li><a href="#S_reference_time"><b>3.4.</b> Time</a> <ul>
<li><a href="#ef_time_new_oneshot_timer"><span class="code">ef_time_new_oneshot_timer</span></a></li>
<li><a href="#ef_time_new_repeating_timer"><span class="code">ef_time_new_repeating_timer</span></a></li>
<li><a href="#ef_timer_cancel"><span class="code">ef_timer_cancel</span></a></li>
<li><a href="#ef_time_unix_epoch"><span class="code">ef_time_unix_epoch</span></a></li>
</ul></li>
<li><a href="#S_reference_input"><b>3.5.</b> Input</a> <ul>
<li><a href="#S_reference_input_general"><b>3.5.1.</b> General</a> <ul>
<li><a href="#ef_event_timestamp"><span class="code">ef_event_timestamp</span></a></li>
<li><a href="#ef_event_modifiers"><span class="code">ef_event_modifiers</span></a></li>
</ul></li>
<li><a href="#S_reference_input_keyboard"><b>3.5.2.</b> Keyboard</a> <ul>
<li><a href="#ef_input_set_key_down_callback"><span class="code">ef_input_set_key_down_callback</span></a></li>
<li><a href="#ef_input_set_key_up_callback"><span class="code">ef_input_set_key_up_callback</span></a></li>
<li><a href="#ef_event_keycode"><span class="code">ef_event_keycode</span></a></li>
<li><a href="#ef_event_string"><span class="code">ef_event_string</span></a></li>
<li><a href="#ef_input_key_name"><span class="code">ef_input_key_name</span></a></li>
<li><a href="#ef_input_keycode_by_name"><span class="code">ef_input_keycode_by_name</span></a></li>
<li><a href="#ef_input_keycode_string"><span class="code">ef_input_keycode_string</span></a></li>
</ul></li>
<li><a href="#S_reference_input_mouse"><b>3.5.3.</b> Mouse</a> <ul>
<li><a href="#ef_input_set_mouse_down_callback"><span class="code">ef_input_set_mouse_down_callback</span></a></li>
<li><a href="#ef_input_set_mouse_up_callback"><span class="code">ef_input_set_mouse_up_callback</span></a></li>
<li><a href="#ef_input_set_mouse_move_callback"><span class="code">ef_input_set_mouse_move_callback</span></a></li>
<li><a href="#ef_input_set_mouse_enter_callback"><span class="code">ef_input_set_mouse_enter_callback</span></a></li>
<li><a href="#ef_input_set_mouse_exit_callback"><span class="code">ef_input_set_mouse_exit_callback</span></a></li>
<li><a href="#ef_event_button_number"><span class="code">ef_event_button_number</span></a></li>
<li><a href="#ef_event_click_count"><span class="code">ef_event_click_count</span></a></li>
<li><a href="#ef_event_mouse_x"><span class="code">ef_event_mouse_x</span></a></li>
<li><a href="#ef_event_mouse_y"><span class="code">ef_event_mouse_y</span></a></li>
</ul></li>
</ul></li>
<li><a href="#S_reference_text"><b>3.6.</b> Text</a> <ul>
<li><a href="#S_reference_text_fonts"><b>3.6.1.</b> Fonts</a> <ul>
<li><a href="#S_reference_text_fonts_finding_fonts"><b>3.6.1.1.</b> Finding Fonts</a> <ul>
<li><a href="#ef_text_compute_available_fonts"><span class="code">ef_text_compute_available_fonts</span></a></li>
<li><a href="#ef_text_compute_available_font_families"><span class="code">ef_text_compute_available_font_families</span></a></li>
<li><a href="#ef_text_compute_available_fonts_with_traits"><span class="code">ef_text_compute_available_fonts_with_traits</span></a></li>
<li><a href="#ef_text_compute_available_members_of_font_family"><span class="code">ef_text_compute_available_members_of_font_family</span></a></li>
<li><a href="#ef_text_computed_count"><span class="code">ef_text_computed_count</span></a></li>
<li><a href="#ef_text_computed_name_n"><span class="code">ef_text_computed_name_n</span></a></li>
<li><a href="#ef_text_computed_style_name_n"><span class="code">ef_text_computed_style_name_n</span></a></li>
<li><a href="#ef_text_computed_weight_n"><span class="code">ef_text_computed_weight_n</span></a></li>
<li><a href="#ef_text_computed_traits_n"><span class="code">ef_text_computed_traits_n</span></a></li>
<li><a href="#ef_text_discard_computed"><span class="code">ef_text_discard_computed</span></a></li>
<li><a href="#ef_text_specific_font"><span class="code">ef_text_specific_font</span></a></li>
<li><a href="#ef_font_delete"><span class="code">ef_font_delete</span></a></li>
<li><a href="#ef_font_name"><span class="code">ef_font_name</span></a></li>
<li><a href="#ef_font_family_name"><span class="code">ef_font_family_name</span></a></li>
<li><a href="#ef_font_display_name"><span class="code">ef_font_display_name</span></a></li>
<li><a href="#ef_font_traits"><span class="code">ef_font_traits</span></a></li>
<li><a href="#ef_font_weight"><span class="code">ef_font_weight</span></a></li>
<li><a href="#ef_font_convert_to_face"><span class="code">ef_font_convert_to_face</span></a></li>
<li><a href="#ef_font_convert_to_family"><span class="code">ef_font_convert_to_family</span></a></li>
<li><a href="#ef_font_convert_to_have_traits"><span class="code">ef_font_convert_to_have_traits</span></a></li>
<li><a href="#ef_font_convert_to_not_have_traits"><span class="code">ef_font_convert_to_not_have_traits</span></a></li>
<li><a href="#ef_font_convert_to_size"><span class="code">ef_font_convert_to_size</span></a></li>
<li><a href="#ef_font_convert_to_lighter_weight"><span class="code">ef_font_convert_to_lighter_weight</span></a></li>
<li><a href="#ef_font_convert_to_heavier_weight"><span class="code">ef_font_convert_to_heavier_weight</span></a></li>
</ul></li>
<li><a href="#S_reference_text_fonts_font_attributes"><b>3.6.1.2.</b> Font Attributes</a> <ul>
<li><a href="#ef_font_horizontal_advancement_for_glyph"><span class="code">ef_font_horizontal_advancement_for_glyph</span></a></li>
<li><a href="#ef_font_vertical_advancement_for_glyph"><span class="code">ef_font_vertical_advancement_for_glyph</span></a></li>
<li><a href="#ef_font_ascender"><span class="code">ef_font_ascender</span></a></li>
<li><a href="#ef_font_descender"><span class="code">ef_font_descender</span></a></li>
<li><a href="#ef_font_x_height"><span class="code">ef_font_x_height</span></a></li>
<li><a href="#ef_font_cap_height"><span class="code">ef_font_cap_height</span></a></li>
<li><a href="#ef_font_italic_angle"><span class="code">ef_font_italic_angle</span></a></li>
<li><a href="#ef_font_leading"><span class="code">ef_font_leading</span></a></li>
<li><a href="#ef_font_maximum_horizontal_advancement"><span class="code">ef_font_maximum_horizontal_advancement</span></a></li>
<li><a href="#ef_font_maximum_vertical_advancement"><span class="code">ef_font_maximum_vertical_advancement</span></a></li>
<li><a href="#ef_font_underline_position"><span class="code">ef_font_underline_position</span></a></li>
<li><a href="#ef_font_underline_thickness"><span class="code">ef_font_underline_thickness</span></a></li>
<li><a href="#ef_font_bounding_rectangle"><span class="code">ef_font_bounding_rectangle</span></a></li>
<li><a href="#ef_font_glyph_bounding_rectangle"><span class="code">ef_font_glyph_bounding_rectangle</span></a></li>
</ul></li>
</ul></li>
<li><a href="#S_reference_text_text_flows"><b>3.6.2.</b> Text Flows</a> <ul>
<li><a href="#S_reference_text_text_flows_general"><b>3.6.2.1.</b> General</a> <ul>
<li><a href="#ef_text_new_text_flow"><span class="code">ef_text_new_text_flow</span></a></li>
<li><a href="#ef_text_new_text_flow_with_text"><span class="code">ef_text_new_text_flow_with_text</span></a></li>
<li><a href="#ef_text_new_text_flow_with_text_and_attributes"><span class="code">ef_text_new_text_flow_with_text_and_attributes</span></a></li>
<li><a href="#ef_text_flow_delete"><span class="code">ef_text_flow_delete</span></a></li>
<li><a href="#ef_text_flow_text"><span class="code">ef_text_flow_text</span></a></li>
<li><a href="#ef_text_flow_length"><span class="code">ef_text_flow_length</span></a></li>
<li><a href="#ef_text_flow_attributes_at_index"><span class="code">ef_text_flow_attributes_at_index</span></a></li>
<li><a href="#ef_text_flow_enumerate_attributes"><span class="code">ef_text_flow_enumerate_attributes</span></a></li>
<li><a href="#ef_text_flow_replace_text"><span class="code">ef_text_flow_replace_text</span></a></li>
<li><a href="#ef_text_flow_delete_text"><span class="code">ef_text_flow_delete_text</span></a></li>
<li><a href="#ef_text_flow_set_attributes"><span class="code">ef_text_flow_set_attributes</span></a></li>
<li><a href="#ef_text_flow_remove_attribute"><span class="code">ef_text_flow_remove_attribute</span></a></li>
</ul></li>
<li><a href="#S_reference_text_text_flows_drawing"><b>3.6.2.2.</b> Drawing</a> <ul>
<li><a href="#ef_text_flow_natural_size"><span class="code">ef_text_flow_natural_size</span></a></li>
<li><a href="#ef_text_flow_size"><span class="code">ef_text_flow_size</span></a></li>
<li><a href="#ef_text_flow_set_size"><span class="code">ef_text_flow_set_size</span></a></li>
<li><a href="#ef_text_flow_draw"><span class="code">ef_text_flow_draw</span></a></li>
</ul></li>
<li><a href="#S_reference_text_text_flows_text_attributes"><b>3.6.2.3.</b> Text Attributes</a> <ul>
<li><a href="#ef_text_new_attributes"><span class="code">ef_text_new_attributes</span></a></li>
<li><a href="#ef_text_attributes_delete"><span class="code">ef_text_attributes_delete</span></a></li>
<li><a href="#ef_text_attributes_font"><span class="code">ef_text_attributes_font</span></a></li>
<li><a href="#ef_text_attributes_paragraph_style"><span class="code">ef_text_attributes_paragraph_style</span></a></li>
<li><a href="#ef_text_attributes_foreground_color"><span class="code">ef_text_attributes_foreground_color</span></a></li>
<li><a href="#ef_text_attributes_background_color"><span class="code">ef_text_attributes_background_color</span></a></li>
<li><a href="#ef_text_attributes_underline_style"><span class="code">ef_text_attributes_underline_style</span></a></li>
<li><a href="#ef_text_attributes_underline_is_colored"><span class="code">ef_text_attributes_underline_is_colored</span></a></li>
<li><a href="#ef_text_attributes_underline_color"><span class="code">ef_text_attributes_underline_color</span></a></li>
<li><a href="#ef_text_attributes_strikethrough_style"><span class="code">ef_text_attributes_strikethrough_style</span></a></li>
<li><a href="#ef_text_attributes_strikethrough_is_colored"><span class="code">ef_text_attributes_strikethrough_is_colored</span></a></li>
<li><a href="#ef_text_attributes_strikethrough_color"><span class="code">ef_text_attributes_strikethrough_color</span></a></li>
<li><a href="#ef_text_attributes_ligature_style"><span class="code">ef_text_attributes_ligature_style</span></a></li>
<li><a href="#ef_text_attributes_baseline_offset"><span class="code">ef_text_attributes_baseline_offset</span></a></li>
<li><a href="#ef_text_attributes_kerning_is_default"><span class="code">ef_text_attributes_kerning_is_default</span></a></li>
<li><a href="#ef_text_attributes_kerning"><span class="code">ef_text_attributes_kerning</span></a></li>
<li><a href="#ef_text_attributes_outline_style"><span class="code">ef_text_attributes_outline_style</span></a></li>
<li><a href="#ef_text_attributes_stroke_width"><span class="code">ef_text_attributes_stroke_width</span></a></li>
<li><a href="#ef_text_attributes_obliqueness"><span class="code">ef_text_attributes_obliqueness</span></a></li>
<li><a href="#ef_text_attributes_expansion"><span class="code">ef_text_attributes_expansion</span></a></li>
<li><a href="#ef_text_attributes_set_font"><span class="code">ef_text_attributes_set_font</span></a></li>
<li><a href="#ef_text_attributes_set_paragraph_style"><span class="code">ef_text_attributes_set_paragraph_style</span></a></li>
<li><a href="#ef_text_attributes_set_foreground_color"><span class="code">ef_text_attributes_set_foreground_color</span></a></li>
<li><a href="#ef_text_attributes_set_background_color"><span class="code">ef_text_attributes_set_background_color</span></a></li>
<li><a href="#ef_text_attributes_set_underline_style"><span class="code">ef_text_attributes_set_underline_style</span></a></li>
<li><a href="#ef_text_attributes_set_underline_color"><span class="code">ef_text_attributes_set_underline_color</span></a></li>
<li><a href="#ef_text_attributes_set_strikethrough_style"><span class="code">ef_text_attributes_set_strikethrough_style</span></a></li>
<li><a href="#ef_text_attributes_set_strikethrough_color"><span class="code">ef_text_attributes_set_strikethrough_color</span></a></li>
<li><a href="#ef_text_attributes_set_ligature_style"><span class="code">ef_text_attributes_set_ligature_style</span></a></li>
<li><a href="#ef_text_attributes_set_baseline_offset"><span class="code">ef_text_attributes_set_baseline_offset</span></a></li>
<li><a href="#ef_text_attributes_set_kerning"><span class="code">ef_text_attributes_set_kerning</span></a></li>
<li><a href="#ef_text_attributes_set_outline_style"><span class="code">ef_text_attributes_set_outline_style</span></a></li>
<li><a href="#ef_text_attributes_set_stroke_width"><span class="code">ef_text_attributes_set_stroke_width</span></a></li>
<li><a href="#ef_text_attributes_set_obliqueness"><span class="code">ef_text_attributes_set_obliqueness</span></a></li>
<li><a href="#ef_text_attributes_set_expansion"><span class="code">ef_text_attributes_set_expansion</span></a></li>
<li><a href="#ef_text_attributes_unset_font"><span class="code">ef_text_attributes_unset_font</span></a></li>
<li><a href="#ef_text_attributes_unset_paragraph_style"><span class="code">ef_text_attributes_unset_paragraph_style</span></a></li>
<li><a href="#ef_text_attributes_unset_foreground_color"><span class="code">ef_text_attributes_unset_foreground_color</span></a></li>
<li><a href="#ef_text_attributes_unset_background_color"><span class="code">ef_text_attributes_unset_background_color</span></a></li>
<li><a href="#ef_text_attributes_unset_underline_style"><span class="code">ef_text_attributes_unset_underline_style</span></a></li>
<li><a href="#ef_text_attributes_unset_underline_color"><span class="code">ef_text_attributes_unset_underline_color</span></a></li>
<li><a href="#ef_text_attributes_unset_strikethrough_style"><span class="code">ef_text_attributes_unset_strikethrough_style</span></a></li>
<li><a href="#ef_text_attributes_unset_strikethrough_color"><span class="code">ef_text_attributes_unset_strikethrough_color</span></a></li>
<li><a href="#ef_text_attributes_unset_ligature_style"><span class="code">ef_text_attributes_unset_ligature_style</span></a></li>
<li><a href="#ef_text_attributes_unset_baseline_offset"><span class="code">ef_text_attributes_unset_baseline_offset</span></a></li>
<li><a href="#ef_text_attributes_unset_kerning"><span class="code">ef_text_attributes_unset_kerning</span></a></li>
<li><a href="#ef_text_attributes_unset_outline_style"><span class="code">ef_text_attributes_unset_outline_style</span></a></li>
<li><a href="#ef_text_attributes_unset_stroke_width"><span class="code">ef_text_attributes_unset_stroke_width</span></a></li>
<li><a href="#ef_text_attributes_unset_obliqueness"><span class="code">ef_text_attributes_unset_obliqueness</span></a></li>
<li><a href="#ef_text_attributes_unset_expansion"><span class="code">ef_text_attributes_unset_expansion</span></a></li>
</ul></li>
<li><a href="#S_reference_text_text_flows_paragraph_styles"><b>3.6.2.4.</b> Paragraph Styles</a> <ul>
<li><a href="#ef_text_new_paragraph_style"><span class="code">ef_text_new_paragraph_style</span></a></li>
<li><a href="#ef_paragraph_style_delete"><span class="code">ef_paragraph_style_delete</span></a></li>
<li><a href="#ef_paragraph_style_alignment"><span class="code">ef_paragraph_style_alignment</span></a></li>
<li><a href="#ef_paragraph_style_first_line_head_indent"><span class="code">ef_paragraph_style_first_line_head_indent</span></a></li>
<li><a href="#ef_paragraph_style_head_indent"><span class="code">ef_paragraph_style_head_indent</span></a></li>
<li><a href="#ef_paragraph_style_tail_indent"><span class="code">ef_paragraph_style_tail_indent</span></a></li>
<li><a href="#ef_paragraph_style_line_height_multiple"><span class="code">ef_paragraph_style_line_height_multiple</span></a></li>
<li><a href="#ef_paragraph_style_minimum_line_height"><span class="code">ef_paragraph_style_minimum_line_height</span></a></li>
<li><a href="#ef_paragraph_style_has_maximum_line_height"><span class="code">ef_paragraph_style_has_maximum_line_height</span></a></li>
<li><a href="#ef_paragraph_style_maximum_line_height"><span class="code">ef_paragraph_style_maximum_line_height</span></a></li>
<li><a href="#ef_paragraph_style_line_spacing"><span class="code">ef_paragraph_style_line_spacing</span></a></li>
<li><a href="#ef_paragraph_style_paragraph_spacing"><span class="code">ef_paragraph_style_paragraph_spacing</span></a></li>
<li><a href="#ef_paragraph_style_paragraph_spacing_before"><span class="code">ef_paragraph_style_paragraph_spacing_before</span></a></li>
<li><a href="#ef_paragraph_style_set_alignment"><span class="code">ef_paragraph_style_set_alignment</span></a></li>
<li><a href="#ef_paragraph_style_set_first_line_head_indent"><span class="code">ef_paragraph_style_set_first_line_head_indent</span></a></li>
<li><a href="#ef_paragraph_style_set_head_indent"><span class="code">ef_paragraph_style_set_head_indent</span></a></li>
<li><a href="#ef_paragraph_style_set_tail_indent"><span class="code">ef_paragraph_style_set_tail_indent</span></a></li>
<li><a href="#ef_paragraph_style_set_line_height_multiple"><span class="code">ef_paragraph_style_set_line_height_multiple</span></a></li>
<li><a href="#ef_paragraph_style_set_minimum_line_height"><span class="code">ef_paragraph_style_set_minimum_line_height</span></a></li>
<li><a href="#ef_paragraph_style_set_no_maximum_line_height"><span class="code">ef_paragraph_style_set_no_maximum_line_height</span></a></li>
<li><a href="#ef_paragraph_style_set_maximum_line_height"><span class="code">ef_paragraph_style_set_maximum_line_height</span></a></li>
<li><a href="#ef_paragraph_style_set_line_spacing"><span class="code">ef_paragraph_style_set_line_spacing</span></a></li>
<li><a href="#ef_paragraph_style_set_paragraph_spacing"><span class="code">ef_paragraph_style_set_paragraph_spacing</span></a></li>
<li><a href="#ef_paragraph_style_set_paragraph_spacing_before"><span class="code">ef_paragraph_style_set_paragraph_spacing_before</span></a></li>
</ul></li>
</ul></li>
<li><a href="#S_reference_configuration"><b>3.7.</b> Configuration</a> <ul>
<li><a href="#ef_configuration_resource_directory"><span class="code">ef_configuration_resource_directory</span></a></li>
</ul></li>
<li><a href="#S_reference_pasteboard"><b>3.8.</b> Pasteboard</a> <ul>
</ul></li>
</ul></li>
</ul>

<a name="S_introduction"><h1>1. Introduction</h1></a>

<p>Emerald Frame is a thin platform-abstraction layer which wraps setup code for OpenGL,
OpenAL, and several other libraries; it is oriented towards game development.  More
specifically, Emerald Frame provides functionality that most game programmers want, but
that they would otherwise have to obtain from platform-specific libraries.  It is
similar in philosophy to SDL and glfw, but different (and, I believe, improved) from
those.</p>

<p>Compared to SDL, Emerald Frame's most noticeable difference is its omission:  Nothing
relating to raw framebuffer access.  In this modern world, framebuffer access is no
longer the efficiency gain it once was; the new way to program is with OpenGL.  So,
Emerald Frame focuses on getting your OpenGL code set up and running with the minimal
amount of fuss.</p>

<p>Another difference from SDL that I'd like to call your attention to is the event
processing model.  With SDL, your code implements the event loop.  With Emerald Frame,
the library implements the event loop, invoking callbacks which you have installed as
appropriate.</p>

<p>Emerald Frame is also larger in scope than SDL, with such features as image processing
(including the ability to convert an image file directly into an OpenGL texture), text
processing (including multi-line layout), USB game-controllers, saved preferences,
and operating system pasteboard access.</p>

<p>Emerald Frame is designed to be easy to bind against from programming languages other
than C; for example, it does not rely on preprocessor macros, structure layout, or
statically-allocated variables, all of which are frequent sticking points in
foreign-function interfaces.</p>

<p>Emerald Frame, lastly, is designed to stay out of your way.  You should be able to
get in, do what you need to do, and get out, with minimal fuss.</p>


<a name="S_introduction_downloads"><h2>1.1. Downloads</h2></a>


<a name="S_introduction_portability"><h2>1.2. Portability Advice</h2></a>

<p>On Windows, using an OpenGL texture which has not been initialized will cause a
segfault.  On the Mac and possibly other platforms, this simply results in an all-white
texture.  Be aware!</p>


<a name="S_introduction_licensing"><h2>1.3. Licensing and its Ramifications for Deployment</h2></a>

<p>Emerald Frame itself is under the BSD license.  However, because it uses libraries
which are under the LGPL, you have two options.  If your program is open-source (any
open-source license will do; it needn't be LGPL itself), you can use the static versions
of the libraries I provide.  If your program is closed-source, you <b>must</b> use the
dynamic versions, which I also provide.  This is because the LGPL's test for whether
your program constitutes a "combined work" is whether it is possible to upgrade the
libraries independently of the program itself.</p>

<p>You may prefer to use the dynamic versions anyway with your open-source program, to
simplify your own build process.  Nothing stops you from doing this.  The only case
where you need to be careful which version you use is if your program is
closed-source.</p>

<p>Here is a table of the dependencies of Emerald Frame and their licenses.  Not all
dependencies are used on all platforms, so the table lists where they're used.</p>

<table>
<tr><th>Library</th><th>Platforms</th><th>License</th></tr>
<tr><td>freetype</td><td>Windows</td><td>BSD with advertising clause</td></tr>
<tr><td>gd</td><td>Windows</td><td>BSD with advertising clause</td></tr>
<tr><td>jpeg</td><td>Windows</td><td>BSD with advertising clause</td></tr>
<tr><td>libiconv</td><td>Windows</td><td>LGPL</td></tr>
<tr><td>libpng</td><td>Windows</td><td>BSD</td></tr>
<tr><td>libsndfile</td><td>Windows</td><td>LGPL</td></tr>
<tr><td>mpg123</td><td>Windows</td><td>LGPL</td></tr>
<tr><td>OpenAL</td><td>Windows, Mac OS X</td><td>LGPL</td></tr>
<tr><td>zlib</td><td>Windows</td><td>BSD</td></tr>
</table>

<p>OpenGL is not distributed with Emerald Frame; it is provided by your platform.
Therefore, its licensing is not relevant.</p>


<a name="S_sample"><h1>2. Sample Programs</h1></a>
<a name="S_sample_skeleton"><h2>2.1 The Skeleton</h2></a>

<p>I know this is the only documentation a lot of you will read, so without further
preamble:</p>

<div class="code">#include "emerald-frame.h"


void init_gl(EF_Drawable drawable);
void draw(EF_Drawable drawable, void *context);


int main(int argc, char **argv) {
    ef_init((utf8 *) "Test Application");
    
    ef_video_set_double_buffer(True);
    ef_video_set_color_size(24);
    ef_video_set_alpha_size(8);
    ef_video_set_depth_size(8);
    ef_video_set_stencil_size(8);
    ef_video_set_accumulation_size(24);
    ef_video_set_samples(5);
    ef_video_set_multisample(True);
    EF_Drawable drawable = ef_video_new_drawable(640, 480, False, NULL);
    ef_drawable_set_draw_callback(drawable, draw, NULL);
    
    init_gl(drawable);
    
    ef_main();
}


void init_gl(EF_Drawable drawable) {
    ef_drawable_make_current(drawable);
    
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glOrtho(0, 640, 0, 480, -300, 300);
    
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
}


void draw(EF_Drawable drawable, void *context) {
    glClearColor(0.0f, 0.0f, 0.5f, 1.0f);
    glClear(GL_COLOR_BUFFER_BIT);

    ef_drawable_swap_buffers(drawable);
}
</div>

<p>Even with this short sample, there are some key things to notice.</p>

<p>First, it <b>is not necessary to #include &lt;GL.h&gt;</b>.  This is because
the include name of that file differs from system to system; to make your programs
more portable, Emerald Frame finds it for you.  The same goes for all the other libraries
Emerald Frame wraps around.  This has a drawback - namespace pollution - but the
portability gain justifies it.</p>

<p>Second, <b>buffer options are set before creating the drawable</b>.  It has to be
this way, because these options are used to determine what kind of drawable to create.
All those calls like <span class="code">ef_video_set_double_buffer(True)</span> must
come before the call to <span class="code">ef_video_new_drawable(...)</span>.</p>

<p>Third, <b>buffer options default to a minimal set</b>.  There's no way for Emerald
Frame to know what options you consider standard and normal.  Double-buffering has to
be explicitly turned on if you want it (you might not).  Bit depth has to be explicitly
set to 24 bits per pixel.  If you leave out the calls to set the sizes of the depth
buffer, stencil buffer, and accumulation buffer, those buffers will be left out.</p>

<p>Lastly, <b>call <span class="code">ef_drawable_swap_buffers(...)</span> or
<span class="code">glFlush()</span></b> at the end of each
frame.  This has to be explicit, because there is no a priori way of knowing that you
actually want to draw changes to the screen at all!  If you wanted to leave the screen
the same, you would leave this call out.  It should be
 <span class="code">ef_drawable_swap_buffers</span> if your window is double-buffered,
or <span class="code">glFlush</span> if it is not.  Because these have different
(but overlapping) behaviors, there is no way for Emerald Frame to know which you
intended.</p>

<p>Each example will serve as the basis for the later examples, adding on to the ones
that have come before.  For your convenience, you can get the full working versions of
the examples in <a href="#S_introduction_downloads">the downloads section</a>, but I
recommend you actually read the chapters so that you will understand how they work.</p>


<a name="S_sample_time"><h2>2.2. Timed Drawing</h2></a>

<p>The program isn't very interesting with no motion.  We will add a timer that fires
50 times a second, redrawing the screen each time.  We'll use this to animate a spinning
triangle.</p>

<p>Our program will have a new function, <span class="code">frame</span>, which is
registered as a timer callback and invoked every frame.  Add the following to the
function declarations at the top of the file:</p>

<div class="code">void frame(EF_Timer timer, void *context);</div>

<p>In order to ensure smooth animation, the program won't just rely on the assumption
that exactly one frame has passed since the last time it drew - it will actually keep
a counter and check how much time has elapsed.  To do this it requires a "zero time".
Add the following to a new section right after the function declarations at the
top of the file, and before the definition of <span class="code">main</span>:</p>

<div class="code">static uint64_t startup_time;</div>

<p>We need to initialize the "zero time" when the program starts up.  We also need to
create the timer that will call <span class="code">frame</span>.  Add the following
between the call to <span class="code">init_gl</span> and the call to
<span class="code">ef_main</span>:</p>

<div class="code">    startup_time = ef_time_unix_epoch();

    ef_time_new_repeating_timer(20, frame, (void *) drawable);
</div>

<p>We want 50 fps, so we specify that the timer should fire every 20 milliseconds;
1000 / 50 = 20.</p>

<p>The function <span class="code">frame</span> needs a definition.  It does very little
work, just triggering a redraw, and offloading all the actual work to
<span class="code">draw</span>.  In a complicated program, you would likely put the
simulation code in <span class="code">frame</span> to ensure that it runs no more often
than it's supposed to - the draw callback can be invoked for other reasons as well.
Add the following function definition at the end of the file:</p>

<div class="code">void frame(EF_Timer timer, void *context) {
    EF_Drawable drawable = (EF_Drawable) context;
    ef_drawable_redraw(drawable);
}
</div>

<p>Notice how we used the <span class="code">context</span> parameter.  This is an
opaque value as far as Emerald Frame is concerned - it can hold anything you find
useful.  The callback needs to know what drawable to update, so we use the drawable as
our context parameter.  We pass it in to
<span class="code">ef_time_new_repeating_timer</span>, and each invocation of
<span class="code">frame</span> receives it.  We have to do some typecasting because,
for versatility, the context parameter is a void pointer.</p>

<p>Finally, we need to actually draw our triangle.  Replace the definition of the
<span class="code">draw</span> function with the following:</p>

<div class="code">void draw(EF_Drawable drawable, void *context) {
    uint64_t current_time = ef_time_unix_epoch();
    uint64_t elapsed_frames = (current_time - startup_time) / 20;
    
    glClearColor(0.0f, 0.0f, 0.5f, 1.0f);
    glClear(GL_COLOR_BUFFER_BIT);

    glPushMatrix();

    glTranslatef(320.0f, 240.0f, 0.0f);
    glRotatef(elapsed_frames * (90.0f / 100.0f), 0.0f, 0.0f, 1.0f);

    glColor4f(1.0f, 1.0f, 0.0f, 1.0f);
    glBegin(GL_TRIANGLES);
    glVertex2s(0, 120);
    glVertex2s(60, -60);
    glVertex2s(-60, -60);
    glEnd();
    
    glPopMatrix();

    ef_drawable_swap_buffers(drawable);
}
</div>

<p>The first two lines check the elapsed time since "zero" to determine what frame
we're at, and therefore what state the animation is in.  The call to
<span class="code">glRotatef</span> is what actually produces the animation, feeding
the elapsed number of frames into the parameter that determines what angle to rotate
by.  This code is set to rotate 90 degrees in 100 frames, which, since we are running
at 50 fps, is a full circle every eight seconds.  Like clockwork!</p>


<a name="S_sample_textures"><h2>2.3. Loading Textures</h2></a>

<p>Although it is certainly possible to have a program which uses only vector graphics,
it's often desirable to include bitmapped images.  In OpenGL, this is accomplished using
textures; but the problem you may be having is converting a file on disk into a
texture in video memory.  Emerald Frame has a facility to do this for you.</p>

<p>Start from the completed example from <a href="#S_sample_time">section two</a>.</p>

<p>We're going to be using some memory-management functions, so add the following at
the end of the includes section:</p>

<div class="code">#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
</div>

<p>We're going to create a new function that loads the textures, so add the following at
the start of the function prototypes:</p>

<div class="code">void load_textures(EF_Drawable drawable);
</div>

<p>In OpenGL, to access a texture you need to know its texture ID.  For simplicity, we
will keep texture IDs in a global array; add the following at the end of the global
variables:</p>

<div class="code">static GLuint texture_ids[3];
</div>

<p>Since textures are loaded into OpenGL contexts, and the context isn't created until
the drawable is, we have to put the call to <span class="code">load_textures</span>
after the call to <span class="code">ef_drawable_set_drawable_callback</span>.
Place the following immediately above the call to
<span class="code">init_gl</span> inside <span class="code">main</span>:</p>

<div class="code">    load_textures(drawable);
</div>

<p>As mentioned above, we need to enable the texture feature before we can use it.  Add
the following to the end of <span class="code">init_gl</span>:</p>

<div class="code">    glEnable(GL_TEXTURE_2D);
</div>

<p>Add the following function definition immediately after the end of
<span class="code">main</span>:</p>

<div class="code">void load_textures(EF_Drawable drawable) {
    ef_drawable_make_current(drawable);
    
    glEnable(GL_TEXTURE_2D);
    
    glGenTextures(3, texture_ids);
    
    utf8 *resource_path = ef_configuration_resource_directory();
    
    utf8 *test_texture_path;
    
    test_texture_path = malloc((strlen((char *) resource_path) + 128) * sizeof(utf8));
    strcpy((char *) test_texture_path, (char *) resource_path);
    strcat((char *) test_texture_path, "test-color.png");
    ef_video_load_texture_file(test_texture_path, texture_ids[0], True);
    free(test_texture_path);
    
    test_texture_path = malloc((strlen((char *) resource_path) + 128) * sizeof(utf8));
    strcpy((char *) test_texture_path, (char *) resource_path);
    strcat((char *) test_texture_path, "test-transparent.png");
    ef_video_load_texture_file(test_texture_path, texture_ids[1], True);
    free(test_texture_path);
    
    test_texture_path = malloc((strlen((char *) resource_path) + 128) * sizeof(utf8));
    strcpy((char *) test_texture_path, (char *) resource_path);
    strcat((char *) test_texture_path, "test-partial-alpha.png");
    ef_video_load_texture_file(test_texture_path, texture_ids[2], True);
    free(test_texture_path);
}
</div>

<p>Before we can work with textures, we have to turn on the texture facility; we do this
with the call to <span class="code">glEnable(GL_TEXTURE_2D)</span>.</p>

<p>In order to load textures, we need to allocate IDs for them; the call to
<span class="code">glGenTextures</span> does that, generating three IDs that we can
use in later calls.  These IDs will remain allocated even if you unload the textures
themselves, unless you explicitly deallocate them.  Since
<span class="code">glGenTextures</span> and <span class="code">glEnable</span> need
there to be a current OpenGL context, we have to call
<span class="code">ef_drawable_make_current</span> first, so we do that, too.</p>

<p>We can't perform the actual loading quite yet; we have another problem - how do we
find the files which we are distributing with the application?  It can be nontrivial to
install things such that you can find them later.  Emerald Frame recommends that you
follow the most common practices for your platform:  On Windows, place them in or near
the same directory as the executable - specifically, Emerald Frame uses the directory
<span class="code">Resources</span> inside the executable's directory.
On the Mac, place them in the Resources directory inside the application bundle (XCode
will do this for you if you add them to the project).
In either case, the same Emerald Frame library function will tell you the appropriate
path to find them at:
<a href="ef_configuration_resource_directory">ef_configuration_resource_directory</a>.</p>

<p>Now we have some relatively boring string-manipulation code.  If you're used to a
language with advanced string processing, this may look arcane to you, but it's the C
way to concatenate two strings.  The meat of these three stanzas is the call in each
one to <span class="code">ef_video_load_texture_file</span>; this library call fetches
the image from the filename it's given, and loads it into the texture with the ID it's
also given.  The <span class="code">True</span> parameter instructs it to generate
mipmaps automatically, so that the image will be scaled smoothly up and down if it's
drawn at different sizes.</p>

<p>So much for loading the textures; let's move on to drawing them.  I've provided
three sample images; the first is opaque, the second has a transparent background, and
the third illustrates partial transparency with blending.  For the blending to work,
we need to turn it on first, so add the following to the end of
<span class="code">init_gl</span>:</p>

<div class="code">    glEnable(GL_BLEND);
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
</div>

<p>It's not my purpose in this tutorial to teach OpenGL, so I'm simply going to
present the <span class="code">draw</span> function in its entirety.  If you know
OpenGL, it should be clear how it works.  Replace the definition of the
<span class="code">draw</span> function with the following:</p>

<div class="code">void draw(EF_Drawable drawable, void *context) {
    uint64_t current_time = ef_time_unix_epoch();
    uint64_t elapsed_frames = (current_time - startup_time) / 20;
    
    glClearColor(0.0f, 0.0f, 0.5f, 1.0f);
    glClear(GL_COLOR_BUFFER_BIT);

    glBindTexture(GL_TEXTURE_2D, 0);
    glDisable(GL_BLEND);
    
    glPushMatrix();
    
    glTranslatef(320.0f, 240.0f, 0.0f);
    glRotatef(elapsed_frames * (90.0f / 100.0f), 0.0f, 0.0f, 1.0f);

    glColor4f(1.0f, 1.0f, 0.0f, 1.0f);
    glBegin(GL_TRIANGLES);
    glVertex2s(0, 120);
    glVertex2s(60, -60);
    glVertex2s(-60, -60);
    glEnd();

    glPopMatrix();
    
    glColor4f(1.0f, 1.0f, 1.0f, 1.0f);
    glEnable(GL_BLEND);
    
    glBindTexture(GL_TEXTURE_2D, texture_ids[0]);
    glBegin(GL_QUADS);
    glTexCoord2f(0.0f, 1.0f);
    glVertex2s(0, 0);
    glTexCoord2f(1.0f, 1.0f);
    glVertex2s(128, 0);
    glTexCoord2f(1.0f, 0.0f);
    glVertex2s(128, 128);
    glTexCoord2f(0.0f, 0.0f);
    glVertex2s(0, 128);
    glEnd();
    
    glBindTexture(GL_TEXTURE_2D, texture_ids[1]);
    glBegin(GL_QUADS);
    glTexCoord2f(0.0f, 1.0f);
    glVertex2s(128, 0);
    glTexCoord2f(1.0f, 1.0f);
    glVertex2s(256, 0);
    glTexCoord2f(1.0f, 0.0f);
    glVertex2s(256, 128);
    glTexCoord2f(0.0f, 0.0f);
    glVertex2s(128, 128);
    glEnd();

    glBindTexture(GL_TEXTURE_2D, texture_ids[2]);
    glBegin(GL_QUADS);
    glTexCoord2f(0.0f, 1.0f);
    glVertex2s(256, 0);
    glTexCoord2f(1.0f, 1.0f);
    glVertex2s(384, 0);
    glTexCoord2f(1.0f, 0.0f);
    glVertex2s(384, 128);
    glTexCoord2f(0.0f, 0.0f);
    glVertex2s(256, 128);
    glEnd();
        
    ef_drawable_swap_buffers(drawable);
}
</div>

<p>There is one subtlety I would like to call your attention to:  The two coordinate
systems.  Emerald Frame loads images such that the top-left corner is at (0.0, 0.0) in
texture space.  However, we set up a coordinate system for the window which - per the
usual convention for OpenGL, though it's by no means universal - has (0, 0) at the
lower-left corner.  This means that images need to be flipped vertically in order to
appear properly.  We accomplish this by matching texture coordinates (0.0, 0.0) to
the bottom-left of the square we're drawing, (0.0, 1.0) to the top-left, and so on.</p>

<p>Now we have three images displaying, along with the rotating triangle.  Nice, huh?</p>


<a name="S_sample_audio"><h2>2.4. Audio</h2></a>

<p>Let's modify our sample to play some sounds!</p>

<p>Start from the completed example from
<a href="#S_sample_textures">section three</a>.</p>

<p>We're going to define two new functions to initialize sound data; they will be
analogous to <span class="code">load_textures</span> and
<span class="code">init_gl</span>.  Add the following at the top of the function
prototypes section:</p>

<div class="code">void load_sounds();
void init_al();
</div>

<p>We will be needing one variable for the "game" logic that determines when to play
the sound, and two more for the mechanics of actually playing it.  Add the following at
the bottom of the global variables section:</p>

<div class="code">static int last_played_blip_at_frame;
static ALuint audio_buffer_ids[2];
static ALuint audio_source_ids[1];
</div>

<p>Like OpenGL, all OpenAL actions take place in a "context" which must be created
first thing.  Unlike OpenGL, OpenAL provides a portable way to create that context.
Therefore, rather than have a trivial wrapper around it, Emerald Frame simply lets you
use the existing OpenAL mechanism for creating a context.  Add the following to the
definition of <span class="code">main</span>, right after
the call to <span class="code">ef_init</span>:</p>

<div class="code">    ALCdevice *device = alcOpenDevice(NULL);
    ALCcontext *context = alcCreateContext(device, NULL);
    alcMakeContextCurrent(context);
</div>

<p>We need to actually call those initialization functions.  They need to come sometime
after the OpenAL context has been created; just for ease of reading, let's put them
near the other similar initialization functions.  Add the following to the definition
of <span class="code">main</span>, right before
the call to <span class="code">load_textures</span>:</p>

<div class="code">    load_sounds();
    init_al();
</div>

<p>We now have some actual "game" logic to implement!  We need to initialize its state.
If there were more of it, we'd do that in a new function, but since it's just one
line...  Add the following to the definition of <span class="code">main</span>, right
before the call to <span class="code">ef_time_new_repeating_timer</span>:</p>

<div class="code">    last_played_blip_at_frame = -1;
</div>

<p>Now for the meat of our new functions.  Add the following function definitions
between the definition of
<span class="code">main</span> and the definition of
<span class="code">load_textures</span>:</p>

<div class="code">void load_sounds() {
    alGenBuffers(2, audio_buffer_ids);
    
    utf8 *resource_path = ef_configuration_resource_directory();

    utf8 *test_sound_path;
    
    test_sound_path = malloc((strlen((char *) resource_path) + 128) * sizeof(utf8));
    strcpy((char *) test_sound_path, (char *) resource_path);
    strcat((char *) test_sound_path, "blip.wav");
    ef_audio_load_sound_file(test_sound_path, audio_buffer_ids[0]);
    free(test_sound_path);
    
    test_sound_path = malloc((strlen((char *) resource_path) + 128) * sizeof(utf8));
    strcpy((char *) test_sound_path, (char *) resource_path);
    strcat((char *) test_sound_path, "pulse.wav");
    ef_audio_load_sound_file(test_sound_path, audio_buffer_ids[1]);
    free(test_sound_path);
}


void init_al() {
    alGenSources(1, audio_source_ids);
    alSourceQueueBuffers(audio_source_ids[0], 1, &audio_buffer_ids[0]);
}
</div>

<p>The first, <span class="code">load_sounds</span>, is very similar in its structure
to <span class="code">load_textures</span>.  The audio context is already current -
unlike the graphics context, it will remain set once we set it the first time - so
there's nothing analogous to <span class="code">ef_drawable_make_current</span>.
There is a strong analogy between <span class="code">glGenTextures</span> and
<span class="code">alGenBuffers</span>, and between
<span class="code">ef_video_load_texture_file</span> and
<span class="code">ef_audio_load_sound_file</span>.  Here, we allocate several sound
buffers which will persist through the entire life of the program.</p>

<p>The second, <span class="code">init_al</span>, is almost trivial.  In OpenAL, a
buffer is the actual audio data, while a source abstracts the mechanics of playback.
A source can have zero or more buffers associated with it, in a queue.  Once we've
allocated a single source, which we will reuse every time we wish to play this
particular sound (but it needn't be that way), we push a buffer onto its queue.  This
by itself does not start playback, merely determines what will happen when playback
does start.</p>

<p>Finally, the fun stuff.  We need some game logic, and earlier we said we would add
that to <span class="code">frame</span> when we had any.  Add the following to the end
of the definition of <span class="code">frame</span>:</p>

<div class="code">    uint64_t current_time = ef_time_unix_epoch();
    uint64_t elapsed_frames = (current_time - startup_time) / 20;
    
    int next_blip_frame;
    if(last_played_blip_at_frame == -1)
	next_blip_frame = 0;
    else
	next_blip_frame = last_played_blip_at_frame + 100;
    
    if(elapsed_frames >= next_blip_frame) {
	alSourcePlay(audio_source_ids[0]);
	last_played_blip_at_frame = next_blip_frame;
    }
</div>

<p>The only interesting thing here from a learner's perspective is the call to
<span class="code">alSourcePlay</span> on the source we created earlier, which simply
puts the source into the playing state.  This triggers the sound to fire
immediately.</p>

<p>Now our rotating triangle is starting to seem like a clock, being as it blips every
time it's pointing in one of the four cardinal directions.  Easy for you, a lot of work
for me behind the scenes!</p>

<a name="S_sample_text"><h2>2.5. Text</h2></a>

<p>Some games need no text.  But when you do need it, it's crucial.  Emerald Frame tries
to make simple things simple and complex things possible.  Since our sample from the
last chapter is getting somewhat crowded, let's start with a fresh program.  Here is
all the code you need to draw a simple textual label on the screen:</p>

<div class="code">#include "emerald-frame.h"
#include "stdio.h"


static EF_Text_Flow label;

void init_gl(EF_Drawable drawable);
void draw(EF_Drawable drawable, void *context);


int main(int argc, char **argv) {
    ef_init((utf8 *) "Test Application");
    
    ef_video_set_double_buffer(True);
    ef_video_set_color_size(24);
    ef_video_set_alpha_size(8);
    ef_video_set_depth_size(8);
    ef_video_set_stencil_size(8);
    ef_video_set_accumulation_size(24);
    ef_video_set_samples(5);
    ef_video_set_multisample(True);
    EF_Drawable drawable = ef_video_new_drawable(640, 480, False, NULL);
    ef_drawable_set_draw_callback(drawable, draw, NULL);
    
    init_gl(drawable);
    
    EF_Text_Attributes attributes = ef_text_new_attributes();
    
    EF_Font font = ef_text_specific_font((utf8 *) "Times New Roman",
					 0,
					 EF_FONT_WEIGHT_REGULAR,
					 18.0);
    if(!font) {
	printf("Unable to load font.\n");
	return 1;
    }
    ef_text_attributes_set_font(attributes, font);
    ef_font_delete(font);

    label = ef_text_new_text_flow_with_text_and_attributes
	((utf8 *) "Sphinx of black quartz, judge my vow.", attributes);
    
    ef_text_attributes_delete(attributes);
    
    ef_main();
}


void init_gl(EF_Drawable drawable) {
    ef_drawable_make_current(drawable);
    
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glOrtho(0, 640, 0, 480, -300, 300);
    
    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();
}


void draw(EF_Drawable drawable, void *context) {
    glClearColor(0.8f, 0.8f, 1.0f, 1.0f);
    glClear(GL_COLOR_BUFFER_BIT);
    
    glPushMatrix();
    glTranslatef(0.0f, 40.0f, 0.0f);
    ef_text_flow_draw(label, drawable);
    glPopMatrix();

    ef_drawable_swap_buffers(drawable);
}
</div>

<p>The way you communicate what you want to do to the text system
is through an <span class="code">EF_Text_Flow</span>.  This is a mutable string
object that, loosely speaking, tracks both text and style information for it.  In this
case we create one with the call to
<a href="#ef_text_new_text_flow_with_text_and_attributes">ef_text_new_text_flow_with_text_and_attributes</a>,
and keep it around for the life of our program.  If we only needed it temporarily, we
would destroy it when we were done, with
<a href="#ef_text_flow_delete">ef_text_flow_delete</a>.</p>

<p>The rest of that code in <span class="code">main</span> is dedicated to helping to
set up the <span class="code">EF_Text_Flow</span>.  In particular, you'll note
that we construct an object called an <span class="code">EF_Text_Attributes</span>.
These objects represent sets of style information.  In this case, we only set one
attribute, the font, and leave the others at their defaults.  We create the text
attributes object with the call to
<a href="#ef_text_new_attributes">ef_text_new_attributes</a>,
set the font attribute in it with the call to
<a href="#ef_text_attributes_set_font">ef_text_attributes_set_font</a>,
utilize it in the call to
<a href="#ef_text_new_text_flow_with_text_and_attributes">ef_text_new_text_flow_with_text_and_attributes</a>,
and finally dispose of it by calling
<a href="#ef_text_attributes_delete">ef_text_attributes_delete</a>.</p>

<p>"Wait," you may be thinking if you're experienced in the ways of memory management,
"We dispose of it?  Isn't it still in use because the text flow still exists?"
No.  To make your life easier, Emerald Frame copies the style information out of it.
You only need it as a communication tool; once you've used it to set the attributes, its
job is done.  Unless of course you wish to keep it around to set the same attributes
somewhere else.</p>

<p>Now, continuing to work backwards, there's one more object here, and that's the
<span class="code">EF_Font</span>.
In this case we know in advance what font we want, so all we have to do is request it
with <a href="#ef_text_specific_font">ef_text_specific_font</a>.  Then we utilize it in
the call to <a href="#ef_text_attributes_set_font">ef_text_attributes_set_font</a>, and
dispose of it in the call to <a href="#ef_font_delete">ef_font_delete</a>.  Much like
text-attributes objects are copied into text-flow objects, a font object is
copied instead of referenced when another structure needs it, so there's no need to
worry about keeping it alive as long as the text-attributes object is alive.</p>

<p>Now, direct your attention to the implementation of <span class="code">draw</span>.
The core here is the call to
<a href="#ef_text_flow_draw">ef_text_flow_draw</a>,
which is given both the text-flow object we've already set up, and the
drawable we want to display in.  In this case we carefully set up our drawable such that
positive values of Y point upwards (this is done by the call to
<span class="code">glOrtho</span> in <span class="code">init_gl</span>),
which is what the text system expects; if we hadn't
done that, and we didn't want our text to be upside-down, we would have had to flip the
coordinate system immediately before drawing with a call to
<span class="code">glScalef</span>.

<p>Also note the call to <span class="code">glTranslatef</span>.  There's no parameters
in <a href="#ef_text_flow_draw">ef_text_flow_draw</a> to set where to
draw the text; instead, text is drawn at the origin, and to draw somewhere else, you
translate before drawing.  The left edge of the text is aligned with X value zero, and
the baseline of the first line (in this case, the only line) with Y value 0.  If you want
to align the top or bottom of the text instead of the baseline, you'll have to check
the font's ascender or descender with
<a href="#ef_font_ascender">ef_font_ascender</a> or
<a href="#ef_font_descender">ef_font_descender</a>, respectively, and translate by that
amount.  If you want to align the right edge or center instead of the left edge, you'll
have to check the size the text flow will require when drawn with
<a href="#ef_text_flow_natural_size">ef_text_flow_natural_size</a>, and translate by
the width it gives to right-align, or half that amount to center-align.</p>

<p>So far, we've covered
<span class="code">EF_Font</span>,
<span class="code">EF_Text_Attributes</span>,
and basic use of <span class="code">EF_Text_Flow</span>.
If you skimmed the reference section before coming here, you're probably wondering how
<span class="code">EF_Paragraph_Style</span>
comes into the picture.  The answer is that text is wrapped into paragraphs when and only
when the text flow has its size set to something finite.  We'll now add some text that
has multiple paragraphs.  Once we have a working example with paragraphs, we'll play a
bit with paragraph styles.</p>

<p>Right after the line in <span class="code">main</span> that initializes
<span class="code">label</span>, add the following:</p>

<div class="code">    paragraphs = ef_text_new_text_flow_with_text_and_attributes
	((utf8 *) "Lorem ipsum dolor sit amet, consectetur adipiscing elit.  Vestibulum purus tellus, fermentum a dictum nec, pulvinar ac nibh.  Suspendisse potenti.  Mauris fringilla consectetur volutpat.  Fusce sed sem non augue eleifend faucibus at a augue.  Donec consectetur, neque in vehicula vulputate, magna magna iaculis ante, eget sodales est metus vel nisi.\nSed non quam a dolor aliquam accumsan eu id augue.  Pellentesque hendrerit nisl at nulla porta vel vestibulum neque sodales.  Maecenas malesuada leo vitae est varius viverra ultrices massa lobortis.  Duis ac porttitor est.  Maecenas eu libero nibh, et tempor nisl.\nPraesent fringilla augue id risus euismod commodo eu at massa.  Nullam tortor arcu, facilisis in sodales at, consectetur vel dolor.  Quisque non mauris bibendum dolor rhoncus vehicula ac vel mi.  Suspendisse eu quam a orci blandit volutpat a vel risus.  Proin ac dui eu diam dapibus bibendum.  Proin sagittis facilisis sagittis.  In hac habitasse platea dictumst.  Maecenas eu ante vitae massa dictum tincidunt.  Suspendisse sit amet porttitor diam.",
	 attributes);
    
    ef_text_flow_set_size(paragraphs, 640.0, INFINITY);
</div>

<p>At the top of the file, add the following line:</p>

<div class="code">#include "math.h"
</div>

<p>Now build and run.  You will see the text wrapped into paragraphs.  However, it's
a litle difficult to make out the boundaries, because there's neither a gap between
them nor any indentation.  Let's add a paragraph style that resolves that.</p>

<p>Immediately after the call to <span class="code">ef_text_flow_set_size</span>,
add the following lines:</p>

<div class="code">    EF_Paragraph_Style paragraph_style = ef_text_new_paragraph_style();
    ef_paragraph_style_set_first_line_head_indent(paragraph_style, 96.0);
    ef_text_attributes_set_paragraph_style(attributes, paragraph_style);
    ef_paragraph_style_delete(paragraph_style);
</div>

<p>Now build and run again.  The indentation should make it clearer where the paragraph
boundaries are.  You should now take some time to play around with other text attribute
and paragraph styles, to explore their effects.  Have fun!</p>

<p>That's it for our main example, but I'm going to close this section with a little
scrapbook of other snippets that exemplify parts of the text system that don't really
fit as parts of the full example.  They're just here in case you need them.</p>

<p>Suppose that you wish to display a menu of fonts to the user.  I'm not going to write
the full user-interface to that for your edification, but here's the first half of it:
Obtaining a list of fonts with specified characteristics.  This could go wherever in the
program you want it to (after <span class="code">ef_init()</span>, obviously):</p>

<div class="code">    {
	ef_text_compute_available_fonts();
	int32_t n_fonts = ef_text_computed_count();
	printf("%i total fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(EF_FONT_TRAIT_BOLD, 0);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i bold fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(0, EF_FONT_TRAIT_BOLD);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i non-bold fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(EF_FONT_TRAIT_ITALIC, 0);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i italic fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(0, EF_FONT_TRAIT_ITALIC);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i non-italic fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(EF_FONT_TRAIT_EXPANDED, 0);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i expanded fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(EF_FONT_TRAIT_CONDENSED, 0);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i condensed fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(0,
						    EF_FONT_TRAIT_EXPANDED
						    | EF_FONT_TRAIT_CONDENSED);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i non-expanded, non-condensed fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(EF_FONT_TRAIT_FIXED_PITCH, 0);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i fixed-pitch fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_fonts_with_traits(0, EF_FONT_TRAIT_FIXED_PITCH);
	int32_t n_fonts = ef_text_computed_count();
	printf("%i non-fixed-pitch fonts\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);
	}
	printf("\n");
	ef_text_discard_computed();
    }
    
    {
	ef_text_compute_available_members_of_font_family((utf8 *) "Palatino");
	int32_t n_fonts = ef_text_computed_count();
	printf("%i total members\n", n_fonts);
	for(int32_t i = 0; i < n_fonts; i++) {
	    utf8 *name = ef_text_computed_name_n(i);
	    printf("  \"%s\"", name);
	    free(name);

	    utf8 *style_name = ef_text_computed_style_name_n(i);
	    printf(" \"%s\"", style_name);
	    free(style_name);

	    EF_Font_Weight weight = ef_text_computed_weight_n(i);
	    printf(" %i", weight);
	    
	    EF_Font_Traits traits = ef_text_computed_traits_n(i);
	    printf(" 0x%04x\n", traits);
	}
	printf("\n");
	ef_text_discard_computed();
    }
</div>

<p>You may find it useful to interrogate the metrics of a font, say to place graphics
in relation to it or to draw a custom text decoration (underline, strikethrough, etc).
Here is some code which you could use to do that:</p>    

<div class="code">    EF_Font font = ef_text_specific_font((utf8 *) "Helvetica",
					 0,
					 EF_FONT_WEIGHT_REGULAR,
					 24.0);
    {
	utf8 *font_name = ef_font_name(font);
	utf8 *font_family_name = ef_font_family_name(font);
	utf8 *font_display_name = ef_font_display_name(font);
	printf("font name '%s' family '%s' display '%s'\n",
	       font_name,
	       font_family_name,
	       font_display_name);
	double ascender = ef_font_ascender(font);
	double descender = ef_font_descender(font);
	double x_height = ef_font_x_height(font);
	double cap_height = ef_font_cap_height(font);
	double italic_angle = ef_font_italic_angle(font);
	double leading = ef_font_leading(font);
	double underline_position = ef_font_underline_position(font);
	double underline_thickness = ef_font_underline_thickness(font);
	double bound_left, bound_top, bound_width, bound_height;
	ef_font_bounding_rectangle(font,
				   &bound_left, &bound_top,
				   &bound_width, &bound_height);
	printf("asc %lf desc %lf x %lf cap %lf it %lf lead %lf ul %lf thick %lf\n"
	       "bound (%lf, %lf)+(%lf, %lf)\n",
	       ascender, descender, x_height, cap_height, italic_angle, leading,
	       underline_position, underline_thickness, bound_left, bound_top,
	       bound_width, bound_height);
    }
    ef_font_delete(font);
</div>

<p>Okay, that's it for our scrapbook.  Hope you find it useful!</p>

<a name="S_reference"><h1>3. Reference</h1></a>

<a name="S_reference_general"><h2>3.1. General</h2></a>

<a name="ef_init"><h4>EF_Error ef_init(utf8 *application_name)</h4></a>

<p>Must be called before any other Emerald Frame function.  Initializes all the libraries
which go with Emerald Frame.</p>

<a name="ef_main"><h4>void ef_main()</h4></a>

<p>Begins processing the event loop.  Does not return until program exit.</p>

<a name="ef_version_string"><h4>utf8 *ef_version_string()</h4></a>

<p>Returns a human-readable string describing the version number of Emerald Frame.
Should not be used to test for the existence of specific capabilities; when such testing
becomes necessary in a future version, a gestalt-like query interface will be
implemented.</p>

<a name="ef_error_string"><h4>utf8 *ef_error_string(EF_Error error)</h4></a>

<p>Returns a human-readable string describing the error condition
<span class="code">error</span>, which should be a code returned by another Emerald
Frame library function.  Not useful, for example, for OpenGL error codes.</p>

<a name="S_reference_video"><h2>3.2. Video</h2></a>

<a name="S_reference_video_displays"><h3>3.2.1. Video - Displays</h3></a>

<p><b>Displays</b> are physical screens attached to the computer.  It is useful to
work with them whenever the user has multiple screens, whether to identify them all and
open each one in turn in full-screen mode, or to choose which one to open a window
on.</p>

<a name="ef_video_current_display"><h4>EF_Display ef_video_current_display()</h4></a>

<p>Returns the display which the user is most likely to be currently interacting with,
as determined by the operating system.  Different OSes have different preferred
behavior for this, so it's best to respect their choices.</p>

<a name="ef_video_next_display"><h4>EF_Display ef_video_next_display()</h4></a>

<p>Used to iterate through all displays in some order.  No specific order is
guaranteed; in particular, use
<a href="ef_video_current_display">ef_video_current_display()</a>
if you wish to find the "main" display.  Pass <span class="code">NULL</span> to
retrieve the first in the list, then on each subsequent call, pass the display you
received last time to retrieve the one following it.</p>

<a name="ef_display_depth"><h4>int ef_display_depth(EF_Display display)</h4></a>

<p>Returns the number of bits per pixel used by the given display.  This is often 24.</p>

<a name="ef_display_width"><h4>int ef_display_width(EF_Display display)</h4></a>

<p>Returns the width in pixels of the given display.</p>

<a name="ef_display_height"><h4>int ef_display_height(EF_Display display)</h4></a>

<p>Returns the height in pixels of the given display.</p>

</ul>

<a name="S_reference_video_drawables"><h3>3.2.2. Video - Drawables</h3></a>

<p>A <b>drawable</b> is a context into which you can perform graphics commands.  It is
either a window, or the entire contents of a display.

<a name="ef_video_new_drawable"><h4>EF_Drawable ef_video_new_drawable(<br />int width,<br />int height,<br />boolean full_screen,<br />EF_Display display)</h4></a>

<p>Creates a new drawable of the specified size.  If
<span class="code">full_screen</span> is <span class="code">True</span>, enters
full-screen mode.  If <span class="code">display</span> is provided, the window is
positioned on the given display (or, in full-screen mode, the given display is used);
otherwise, it is as if the current display in the sense of
<a href="#ef_video_current_display">ef_video_current_display()</a>
has been passed.  The created drawable is immediately displayed to the user.</p>

<a name="ef_drawable_delete"><h4>void ef_drawable_delete(EF_Drawable drawable)</h4></a>

<p>Deletes the given drawable, removing it from the screen and freeing all resources
and memory it used.</p>

<a name="ef_drawable_set_title"><h4>void ef_drawable_set_title(EF_Drawable drawable, utf8* title)</h4></a>

<p>For drawables which are windows with titlebars or which otherwise have some
user-visible title string, sets that string.</p>

<a name="ef_drawable_set_draw_callback"><h4>void ef_drawable_set_draw_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time the drawable is due to be redrawn.  The
function passed as the <span class="code">callback</span> parameter will be called with
two parameters: the drawable in question, and the user-supplied
<span class="code">context</span> parameter given when this function is called.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<p>Note that, though it is one piece of the task, setting a callback will not by itself
cause animation to occur; for that, see
<a name="S_sample_time">2.2. Timed Drawing</a>.</p>

<a name="ef_drawable_redraw"><h4>void ef_drawable_redraw(EF_Drawable drawable)</h4></a>

<p>Causes the given drawable to redraw, triggering a draw callback, as soon as
possible.  This is useful from a timer, for example, to produce animation.</p>

<a name="ef_drawable_make_current"><h4>void ef_drawable_make_current(EF_Drawable drawable)</h4></a>

<p>Causes the OpenGL context of the given drawable to become the current one, so that
all future drawing operations will be performed upon it.  Necessary before each set of
drawing operations even if you have only a single drawable, but can be omitted inside
draw callbacks.</p>

<a name="ef_drawable_swap_buffers"><h4>void ef_drawable_swap_buffers(EF_Drawable drawable)</h4></a>

<p>Causes OpenGL to copy the back buffer of the drawable to the front buffer; typically,
this causes any changes since the last call of it to be displayed to the user.</p>

<p>This function implicitly calls <span class="code">glFlush()</span>.</p>

<a name="S_reference_video_settings"><h3>3.2.3. Video - Settings</h3></a>

<a name="ef_video_set_double_buffer"><h4>void ef_video_set_double_buffer(boolean double_buffer)</h4></a>

<p>Sets the double-buffering attribute to the provided value; this attribute will be
used for all future drawables that are created (it does not modify existing
drawables).</p>

<a name="ef_video_set_stereo"><h4>void ef_video_set_stereo(boolean stereo)</h4></a>

<p>Sets the stereo attribute to the provided value; this attribute will be
used for all future drawables that are created (it does not modify existing
drawables).</p>

<a name="ef_video_set_aux_buffers"><h4>void ef_video_set_aux_buffers(int aux_buffers)</h4></a>

<p>Sets the number of auxilliary buffers to the provided value; this attribute will be
used for all future drawables that are created (it does not modify existing
drawables).</p>

<a name="ef_video_set_color_size"><h4>void ef_video_set_color_size(int color_size)</h4></a>

<p>Sets the number of bits for all color channels combined of each pixel to the provided
value; this attribute will be used for all future drawables that are created (it does
not modify existing drawables).  The number of bits is typically 24 for
red-green-blue-alpha, since the depth of the alpha channel is set separately.</p>

<a name="ef_video_set_alpha_size"><h4>void ef_video_set_alpha_size(int alpha_size)</h4></a>

<p>Sets the number of bits for the alpha channel of each pixel to the provided value;
this attribute will be used for all future drawables that are created (it does not
modify existing drawables).  A value of 0 means no alpha channel.</p>

<a name="ef_video_set_depth_size"><h4>void ef_video_set_depth_size(int depth_size)</h4></a>

<p>Sets the number of bits in the depth-buffer for each pixel to the provided value;
this attribute will be used for all future drawables that are created (it does not
modify existing drawables).  A value of 0 means no depth buffer.</p>

<a name="ef_video_set_stencil_size"><h4>void ef_video_set_stencil_size(int stencil_size)</h4></a>

<p>Sets the number of bits in the stencil buffer for each pixel to the provided value;
this attribute will be used for all future drawables that are created (it does not
modify existing drawables).  A value of 0 means no stencil buffer.</p>

<a name="ef_video_set_accumulation_size"><h4>void ef_video_set_accumulation_size(int accumulation_size)</h4></a>

<p>Sets the number of bits in the accumulation buffer for each pixel to the provided
value; this attribute will be used for all future drawables that are created (it does
not modify existing drawables).  A value of 0 means no accumulation buffer.</p>

<a name="ef_video_set_samples"><h4>void ef_video_set_samples(int samples)</h4></a>

<p>Sets the number of samples per pixel when using multisampling or supersampling
to the provided value; this attribute will be used for all future drawables that are
created (it does not modify existing drawables).</p>

<a name="ef_video_set_aux_depth_stencil"><h4>void ef_video_set_aux_depth_stencil(boolean aux_depth_stencil)</h4></a>

<p>Sets whether each auxilliary buffer has its own depth and stencil buffers; this
attribute will be used for all future drawables that are created (it does not modify
existing drawables).</p>

<a name="ef_video_set_color_float"><h4>void ef_video_set_color_float(boolean color_float)</h4></a>

<p>Sets whether colors are represented as floats; this attribute will be
used for all future drawables that are created (it does not modify existing
drawables).</p>

<a name="ef_video_set_multisample"><h4>void ef_video_set_multisample(boolean multisample)</h4></a>

<p>Sets whether to use multisampling; this attribute will be used for all future
drawables that are created (it does not modify existing drawables).  For there to be
any effect, it is also necessary to set the number of samples per pixel to some number
greater than one, using <a href="#ef_video_set_samples">ef_video_set_samples(...)</a>.
This is a very popular method of doing full-screen antialiasing.</p>

<a name="ef_video_set_supersample"><h4>void ef_video_set_supersample(boolean supersample)</h4></a>

<p>Sets whether to use supersampling; this attribute will be used for all future
drawables that are created (it does not modify existing drawables).  For there to be
any effect, it is also necessary to set the number of samples per pixel to some number
greater than one, using <a href="#ef_video_set_samples">ef_video_set_samples(...)</a>.
This is a somewhat unpopular method of doing full-screen antialiasing.</p>

<a name="ef_video_set_sample_alpha"><h4>void ef_video_set_sample_alpha(boolean sample_alpha)</h4></a>

<p>Sets whether multisampling, if enabled, affects the alpha channel; this attribute
will be used for all future drawables that are created (it does not modify existing
drawables).</p>

<a name="S_reference_video_images"><h3>3.2.4. Video - Image Files</h3></a>

<a name="ef_video_load_texture_file"><h4>EF_Error ef_video_load_texture_file(utf8 *filename, GLuint id, boolean build_mipmaps)</h4></a>

<p>Loads a bitmap image from an external file into an OpenGL texture.  The application
must have already allocated the texture ID, as with
<span class="code">glGenTextures</span>.</p>

<p>If the image data is not a square image with a power-of-two size, the created texture
is the next larger such size that completely contains the image.  If this occurs, the
texture will be padded, and the space filling the bottom and right edges, to pad it to
size, will not necessarily contain anything in particular, and should not be
displayed.</p>

<p>What file formats are supported depends upon operating-system support, but will
include PNG, GIF, and JPEG.</p>

<p>Returns <span class="code">EF_ERROR_FILE</span> if the file cannot be found or cannot
be read.  Returns <span class="code">EF_ERROR_IMAGE_DATA</span> if the file cannot be
interpreted as a valid image with a supported pixel format.</p>

<!--
(It actually isn't, but this text is here in case things change.)
<p>The image's alpha channel, if present, is premultiplied with the color channels; this
means that it should be composited with
<span class="code">glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA)</span>,
<b>not</b> with
<span class="code">glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)</span>.</p>
-->

<a name="ef_video_load_texture_memory"><h4>EF_Error ef_video_load_texture_memory(uint8_t *data, size_t size, GLuint id, boolean build_mipmaps)</h4></a>

<p>As <a href="#ef_video_load_texture_file">ef_video_load_texture_file</a>, but for
the case where the data is already in memory (perhaps it came from a database or from
an application-specific wrapper file).  Returns
<span class="code">EF_ERROR_IMAGE_DATA</span>
if the data cannot be interpreted as a valid image with a supported pixel format.</p>

<a name="S_reference_audio"><h2>3.3. Audio</h2></a>

<a name="ef_audio_load_sound_file"><h4>EF_Error ef_audio_load_sound_file(utf8 *filename, ALuint id)</h4></a>

<p>Loads a sound from an external file into an OpenAL buffer.  The application
must have already allocated the buffer ID, as with
<span class="code">alGenBuffers</span>.
What file formats are supported depends upon operating-system support, but will include
WAV and MP3.
Returns <span class="code">EF_ERROR_FILE</span> if the file cannot be found or cannot be
read.  Returns <span class="code">EF_ERROR_SOUND_DATA</span> if the file cannot be
interpreted as a valid sound with a supported codec.</p>

<a name="ef_audio_load_sound_memory"><h4>EF_Error ef_audio_load_sound_memory(uint8_t *data, size_t size, ALuint id)</h4></a>

<p>As <a href="#ef_audio_load_sound_file">ef_audio_load_sound_file</a>, but for
the case where the data is already in memory (perhaps it came from a database or from
an application-specific wrapper file).  Returns
<span class="code">EF_ERROR_SOUND_DATA</span>
if the data cannot be interpreted as a valid sound with a supported codec.</p>

<a name="S_reference_time"><h2>3.4. Time</h2></a>

<a name="ef_time_new_oneshot_timer"><h4>EF_Timer ef_time_new_oneshot_timer(<br />int milliseconds,<br />void (*callback)(EF_Timer timer, void *context),<br />void *context)</h4></a>

<p>Creates a new timer which will fire <span class="code">milliseconds</span>
milliseconds after the current time, calling the given callback with itself and the
given context function.  The timer will fire once and then expire.  After firing, the
timer is automatically disposed of.</p>

<a name="ef_time_new_repeating_timer"><h4>ef_time_new_repeating_timer(<br />int milliseconds,<br />void (*callback)(EF_Timer timer, void *context),<br />void *context)</h4></a>

<p>Creates a new timer which will fire <span class="code">milliseconds</span>
milliseconds after the current time, calling the given callback with itself and the
given context function.  The timer will fire repeatedly, every time the same time
interval has passed again.</p>

<a name="ef_timer_cancel"><h4>void ef_timer_cancel(EF_Timer timer)</h4></a>

<p>Cancels a oneshot timer which has not yet fired, or a repeating timer.  After being
cancelled, the timer is automatically disposed of and will not fire.</p>

<a name="ef_time_unix_epoch"><h4>uint64_t ef_time_unix_epoch()</h4></a>

<p>Returns the current time, expressed as milliseconds since January 1st, 1970 - the
"unix epoch".</p>

<a name="S_reference_input"><h2>3.5. Input</h2></a>

<a name="S_reference_input_general"><h3>3.5.1. Input - General</h3></a>

<a name="ef_event_timestamp"><h4>uint64_t ef_event_timestamp(EF_Event event)</h4></a>

<p>Returns the time the given event occurred, expressed in the same format as that
returned by <a href="#ef_time_unix_epoch">ef_time_unix_epoch</a>.</p>

<p>This function is valid on all types of events.</p>

<a name="ef_event_modifiers"><h4>EF_Modifiers ef_event_modifiers(EF_Event event)</h4></a>

<p>Returns a bitmask indicating which modifier keys were held down during the given
event.  The bits for each modifier key are platform-independent and will not change in
future releases of Emerald Frame.  They are:</p>

<ul>
<li><span class="code">EF_MODIFIER_CAPS_LOCK = 1</span> &mdash; The caps-lock key.</li>
<li><span class="code">EF_MODIFIER_SHIFT = 2</span> &mdash; The shift key.</li>
<li><span class="code">EF_MODIFIER_CONTROL = 4</span> &mdash; The control key.</li>
<li><span class="code">EF_MODIFIER_ALT = 8</span> &mdash; The alt key, or the Macintosh option key (on the Mac, these keys are synonymous).</li>
<li><span class="code">EF_MODIFIER_COMMAND = 16</span> &mdash; The Macintosh command key.</li>
</ul>

<p>This function is valid on all types of events.</p>

<a name="S_reference_input_keyboard"><h3>3.5.2. Input - Keyboard</h3></a>

<a name="ef_input_set_key_down_callback"><h4>void ef_input_set_key_down_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time a key is pressed.  The function passed
as the <span class="code">callback</span> parameter will be called with three parameters:
the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<a name="ef_input_set_key_up_callback"><h4>void ef_input_set_key_up_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time a key is released.  The function passed
as the <span class="code">callback</span> parameter will be called with three parameters:
the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<a name="ef_event_keycode"><h4>EF_Keycode ef_event_keycode(EF_Event event)</h4></a>

<p>Returns a code indicating which key was pressed or released for the given event.
This code is <b>platform-dependent</b> and values for it should not be hardcoded into
the application; instead, <a href="#ef_input_key_name">ef_input_key_name</a> and
<a href="#ef_input_keycode_by_name">ef_input_keycode_by_name</a> should be used.
This should also not be used to determine what characters were typed in an attempt to
enter text; for that, use <a href="#ef_event_string">ef_event_string</a>.  Finally,
the keycode is bound to the location of the key on the keyboard, so for example the
same keycode might correspond to the key physically labeled "Q" on a US keyboard and
"A" on a French keyboard.</p>

<p>This function is valid on key-down and key-up events only.  If it is called on other
types of events, the behavior is undefined.</p>

<a name="ef_event_string"><h4>utf8 *ef_event_string(EF_Event event)</h4></a>

<p>Returns a string which is the character or sequence of characters that the given
event corresponds to if considered as an attempt to enter text.  For example, this
may be an accented character, and if shift is pressed it may be an uppercase letter.
This should not be used for play controls bound to a specific key; for that, use
<a href="#ef_event_keycode">ef_event_keycode</a>.

<p>This function is valid on key-down and key-up events only.  If it is called on other
types of events, the behavior is undefined.</p>

<a name="ef_input_key_name"><h4>utf8 *ef_input_key_name(EF_Keycode keycode)</h4></a>

<p>Returns a platform-independent key name for the given platform-dependent keycode, if
there is one, or <span class="code">NULL</span> if there is not.  Not all keys have
names.  See <a href="#ef_input_keycode_by_name">ef_input_keycode_by_name</a> for a list
of some specific key names.</p>

<p>The strings returned by this function are statically allocated and do not need to be
freed.</p>

<a name="ef_input_keycode_by_name"><h4>EF_Keycode ef_input_keycode_by_name(utf8 *name)</h4></a>

<p>Returns a platform-dependent keycode for the given platform-independent key name,
if the name maps to a known key, or <span class="code">-1</span> if it does not.</p>

<p>The following is a subset of the key names that exist:</p>

<ul>
<li><span class="code">"cursor up"</span></li>
<li><span class="code">"cursor down"</span></li>
<li><span class="code">"cursor left"</span></li>
<li><span class="code">"cursor right"</span></li>
<li><span class="code">"backspace"</span> <b>(note 1)</b></li>
<li><span class="code">"tab"</span></li>
<li><span class="code">"return"</span></li>
<li><span class="code">"escape"</span></li>
<li><span class="code">"space"</span></li>
<li><span class="code">"tab"</span></li>
<li><span class="code">"home"</span></li>
<li><span class="code">"end"</span></li>
<li><span class="code">"page up"</span></li>
<li><span class="code">"page down"</span></li>
<li><span class="code">"a"</span> through <span class="code">"z"</span> <b>(note 2)</b></li>
<li><span class="code">"0"</span> through <span class="code">"9"</span></li>
<li><span class="code">"F1"</span> through <span class="code">"F12"</span> <b>(note 3)</b></li>
</ul>

<p><b>Note 1:</b> On the Macintosh, this key is physically labeled "delete";
Emerald Frame maps it to the name <span class="code">"backspace"</span> because that
is both the standard mapping and the way it behaves.</p>

<p><b>Note 2:</b> Key codes are bound to the locations of keys on the keyboard, not to
the characters produced by the keys (for that, see
<a href="#ef_event_string">ef_event_string</a>), so on many keyboards these alphabetic
names may not correspond to the physical label of the key.  The alphabetic names
reflect the US/Qwerty layout, so for example the keys named "w", "a", "s", and "d" will
always form a cursor-like layout.</p>

<p><b>Note 3:</b> For Macintosh users, the function keys are difficult or in some
cases impossible to type, because they are reserved for operating-system commands.
Therefore, I recommend that you not use them for important controls!</p>

<a name="ef_input_keycode_string"><h4>utf8 *ef_input_keycode_string(EF_Keycode keycode, EF_Modifiers modifiers, EF_Dead_Key_State *dead_key_state)</h4></a>

<p><b>Not implemented.</b>  This function is documented, but has not been
implemented.</p>

<p>Returns the string of characters which would be produced by a press of the key with
the given keycode, with the given modifier keys pressed, in the given dead-key state.
Also modifies the given dead-key state as the keypress would modify it.  Dead-key state
is an opaque value; your code should set it to 0 to indicate the default state, or to
a value previously given by this function.  Returns NULL if the keypress would produce
no immediate output.  The string returned by this function is in statically-allocated
memory and does not need to be freed; it remains valid until the next call to this
function.</p>

<a name="S_reference_input_mouse"><h3>3.5.3. Input - Mouse</h3></a>

<a name="ef_input_set_mouse_down_callback"><h4>void ef_input_set_mouse_down_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time any mouse button is pressed.  The function
passed as the <span class="code">callback</span> parameter will be called with three
parameters: the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<p>When a mouse button is first pressed, up and down events related to other mouse
buttons are ignored until that button is released.</p>

<a name="ef_input_set_mouse_up_callback"><h4>void ef_input_set_mouse_up_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time any mouse button is released.  The function
passed as the <span class="code">callback</span> parameter will be called with three
parameters: the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<a name="ef_input_set_mouse_move_callback"><h4>void ef_input_set_mouse_move_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time the mouse is moved.  The function passed
as the <span class="code">callback</span> parameter will be called with three parameters:
the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<p>The mouse-move callback is called regardless of whether there are any mouse buttons
held down; if you need to do processing based on whether buttons are held down, you must
save that information in the mouse-down callback.</p>

<p>The mouse-move callback is normally called only when the mouse is within the
drawable's window; however, when any mouse button is pressed while the mouse is within
the window, mouse-move callbacks will be generated regardless of the mouse's position
until it is released.  Thus you can use this callback to track drags that go outside the
window.</p>

<a name="ef_input_set_mouse_enter_callback"><h4>void ef_input_set_mouse_enter_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time the mouse moves to enter the drawable's
window.  The function passed
as the <span class="code">callback</span> parameter will be called with three parameters:
the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<a name="ef_input_set_mouse_exit_callback"><h4>void ef_input_set_mouse_exit_callback(<br />EF_Drawable drawable,<br />void (*callback)(EF_Drawable drawable, EF_Event event, void *context),<br />void *context)</h4></a>

<p>Sets a callback to be invoked every time the mouse moves to exit the drawable's
window.  The function passed
as the <span class="code">callback</span> parameter will be called with three parameters:
the drawable in question, an event object, and the user-supplied
<span class="code">context</span> parameter given when this function is called.  The
memory for the event object is managed by Emerald Frame and does not need to be
explicitly freed; it is valid for the duration of the callback's execution.</p>

<p>If there is an existing callback, the new one replaces it.  If
<span class="code">NULL</span> is passed, any existing callback is removed.</p>

<a name="ef_event_button_number"><h4>int ef_event_button_number(EF_Event event)</h4></a>

<p>Returns an integer indicating which mouse button was pressed or released to trigger
the given event.  The left mouse button is 0, the right mouse button is 1, and the
middle mouse button is 2; other mouse buttons have platform-dependent numbers.</p>

<p>Note that for Macintosh users, the middle mouse button is often absent and should
therefore not be used for important commands.</p>

<p>Also note that on the Macintosh, it is conventional for control-left-click to be
synonymous with right-click; if you wish to implement this synonym, you must do it at
the application layer.  Emerald Frame will return control-left-click as a left click
with the control modifier, for maximum application flexibility.</p>

<p>This function is valid on mouse-down and mouse-up events only.  If it is called on
other types of events, the behavior is undefined.</p>

<a name="ef_event_click_count"><h4>int ef_event_click_count(EF_Event event)</h4></a>

<p>Returns an integer indicating how many times in rapid succession the mouse button
was pressed (and, for mouse-up events, released).  A sequence of mouse-up and mouse-down
events is only regarded as a click or multiple click if there is no mouse-move event
any time after the first mouse-down event in the sequence.  The first mouse-down and
the first mouse-up event will both have a click count of 1; the second will have a
click count of 2; and so on.  However, if at any time the mouse is moved, the click
count resets to 0.  Therefore, in addition to double-clicking, this function can be
used to implement a no-slip-clicking feature by checking it on mouse-up.</p>

<p>The maximum time between clicks for the clicks to count as being "in rapid
succession" is determined by the operating system, and respects any preferences the
user has set in that regard.</p>

<p>There is no upper limit on how many clicks may occur together.  Triple, quadruple,
and higher click counts are all possible.  However, these sequences may be difficult to
execute, especially for users with disabilities, and should therefore not be used as
the only way to access important functionality.</p>

<p>This function is valid on mouse-down and mouse-up events only.  If it is called on
other types of events, the behavior is undefined.</p>

<a name="ef_event_mouse_x"><h4>uint32_t ef_event_mouse_x(EF_Event event)</h4></a>

<p>Returns the X position of the mouse for the given event.  The coordinate system used
has the point (0, 0) as the lower-left corner of the window.  For mouse-move events,
this may return a location outside the window, either negative or greater than its
width.</p>

<p>This function is valid on mouse-down, mouse-up, and mouse-move events only.  If it
is called on other types of events, the behavior is undefined.</p>

<a name="ef_event_mouse_y"><h4>uint32_t ef_event_mouse_y(EF_Event event)</h4></a>

<p>Returns the Y position of the mouse for the given event.  The coordinate system used
has the point (0, 0) as the lower-left corner of the window.  For mouse-move events,
this may return a location outside the window, either negative or greater than its
height.</p>

<p>This function is valid on mouse-down, mouse-up, and mouse-move events only.  If it
is called on other types of events, the behavior is undefined.</p>

<a name="S_reference_text"><h2>3.6. Text</h2></a>

<p>Text is a very important area of many programs, and the API for it is
consequentially rather large.  Do not be daunted!  If you simply need to draw
single-line labels, you probably only need to call a handful of functions; see
<a href="#S_sample_text">the tutorial section</a> for further advice.  But the power
is here to do full paragraphs, should you need it.  Even advanced features like
ligatures can be controlled.</p>

<a name="S_reference_text_fonts"><h3>3.6.1. Text - Fonts</h3></a>

<p>Operating-system fonts are referenced by <span class="code">EF_Font</span> objects,
which have the dual purpose of <i>describing</i> fonts as well as <i>implementing</i>
them.  Simply creating font objects in order to query their traits or construct other
font objects based on them is cheap, and you should do it freely.  Actually using a
font object to draw to the screen causes the glyph data to be read into memory and
decoded, which may take perhaps a quarter-second in the worst case, so you should not
create and destroy them gratuitously; rather, you should create them when your program
enters the mode where they are needed.  A loaded font also requires large amounts of
memory, so you should be careful not to leak them!  These cautions, incidentally, apply
even beyond the scope of Emerald Frame.</p>

<p>Fonts have a few properties which are used to describe them at a high level.  One
of these is <i>weight</i>, which is an item from the controlled vocabulary shown in the
chart below.  Most other high-level font properties are lumped together as <i>traits</i>,
another controlled vocabulary, shown in the second chart.  Traits should not be
confused with <i>attributes</i>, which are described in the next section and are used
to describe how text is rendered onscreen in ways that go beyond information contained
in a font file; for example, color is an attribute rather than a trait, because any
font can be rendered in any color, but italic is a trait, because it is an identifying
characteristic of the font.</p>

<table>
<tr>
<th>Numerical encoding</th>
<th>Common name for font weight</th>
<th>ISO name for font weight</th>
</tr>
<tr>
<td><span class="code">1</span></td>
<td><span class="code">EF_FONT_WEIGHT_ULTRALIGHT</span></td>
<td>none</td>
</tr>
<tr>
<td><span class="code">2</span></td>
<td><span class="code">EF_FONT_WEIGHT_THIN</span></td>
<td><span class="code">EF_FONT_WEIGHT_W1</span></td>
</tr>
<tr>
<td><span class="code">3</span></td>
<td><span class="code">EF_FONT_WEIGHT_LIGHT</span></td>
<td><span class="code">EF_FONT_WEIGHT_W2</span></td>
</tr>
<tr>
<td><span class="code">4</span></td>
<td><span class="code">EF_FONT_WEIGHT_BOOK</span></td>
<td><span class="code">EF_FONT_WEIGHT_W3</span></td>
</tr>
<tr>
<td><span class="code">5</span></td>
<td><span class="code">EF_FONT_WEIGHT_REGULAR</span></td>
<td><span class="code">EF_FONT_WEIGHT_W4</span></td>
</tr>
<tr>
<td><span class="code">6</span></td>
<td><span class="code">EF_FONT_WEIGHT_MEDIUM</span></td>
<td><span class="code">EF_FONT_WEIGHT_W5</span></td>
</tr>
<tr>
<td><span class="code">7</span></td>
<td><span class="code">EF_FONT_WEIGHT_DEMIBOLD</span></td>
<td>none</td>
</tr>
<tr>
<td><span class="code">8</span></td>
<td><span class="code">EF_FONT_WEIGHT_SEMIBOLD</span></td>
<td><span class="code">EF_FONT_WEIGHT_W6</span></td>
</tr>
<tr>
<td><span class="code">9</span></td>
<td><span class="code">EF_FONT_WEIGHT_BOLD</span></td>
<td><span class="code">EF_FONT_WEIGHT_W7</span></td>
</tr>
<tr>
<td><span class="code">10</span></td>
<td><span class="code">EF_FONT_WEIGHT_EXTRABOLD</span></td>
<td><span class="code">EF_FONT_WEIGHT_W8</span></td>
</tr>
<tr>
<td><span class="code">11</span></td>
<td><span class="code">EF_FONT_WEIGHT_HEAVY</span></td>
<td>none</td>
</tr>
<tr>
<td><span class="code">12</span></td>
<td><span class="code">EF_FONT_WEIGHT_BLACK</span></td>
<td><span class="code">EF_FONT_WEIGHT_W9</span></td>
</tr>
<tr>
<td><span class="code">13</span></td>
<td><span class="code">EF_FONT_WEIGHT_ULTRABLACK</span></td>
<td>none</td>
</tr>
<tr>
<td><span class="code">14</span></td>
<td><span class="code">EF_FONT_WEIGHT_EXTRABLACK</span></td>
<td>none</td>
</tr>
</table>

<table>
<tr>
<th>Numerical encoding</th>
<th>Common name for font trait</th>
</tr>
<tr>
<td><span class="code">0x0001</span></td>
<td><span class="code">EF_FONT_TRAIT_ITALIC</span></td>
</tr>
<tr>
<td><span class="code">0x0002</span></td>
<td><span class="code">EF_FONT_TRAIT_BOLD</span></td>
</tr>
<tr>
<td><span class="code">0x0010</span></td>
<td><span class="code">EF_FONT_TRAIT_EXPANDED</span></td>
</tr>
<tr>
<td><span class="code">0x0020</span></td>
<td><span class="code">EF_FONT_TRAIT_CONDENSED</span></td>
</tr>
<tr>
<td><span class="code">0x0040</span></td>
<td><span class="code">EF_FONT_TRAIT_FIXED_PITCH</span></td>
</tr>
</table>

<p>A word needs to be said about font sizes, as well.  Each and every font has its own
relationship between requested point size and actual height in pixels.  The only
way to determine this relationship is to load the font completely and measure it;
therefore, Emerald Frame does not provide any way to specify font sizes in pixels, only
in abstract points, which also do not necessarily bear any particular relationship to
printer's points (1/72nd of an inch).  This unfortunate situation is the fault of font
foundries everywhere, and cannot be remedied by programmers.</p>

<a name="S_reference_text_fonts_finding_fonts"><h3>3.6.1.1. Text - Fonts - Finding Fonts</h3></a>

<a name="ef_text_compute_available_fonts"><h4>void ef_text_compute_available_fonts()</h4></a>

<p>Computes the list of all fonts installed on the system.  Fills the computed-font-name
buffer with their names.  If the buffer is already occupied, it is first emptied, as by a
call to <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.
The names in question are the PostScript names of the fonts (even TrueType fonts have
PostScript names), suitable for passing to calls such as
<a href="#ef_text_specific_font">ef_text_specific_font</a>,
but not necessarily for displaying to the user; in particular, they are not localized to
the user's language.</p>

<p>The names produced by this function are suitable for passing to
<a href="#ef_font_convert_to_face">ef_font_convert_to_face</a>, and for displaying to
the user.</p>

<p>To retrieve the names produced by this function from the computed-font-name buffer,
see <a href="#ef_text_computed_count">ef_text_computed_count</a>,
<a href="#ef_text_computed_name_n">ef_text_computed_name_n</a>,
and <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.</p>

<a name="ef_text_compute_available_font_families"><h4>void ef_text_compute_available_font_families()</h4></a>

<p>Computes the list of all font families installed on the system.  Fills the
computed-font-name buffer with their names.
If the buffer is already occupied, it is first emptied, as by a
call to <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.
This is subtly different from
<a href="#ef_text_compute_available_fonts">ef_text_compute_available_fonts</a>, in that
it is not uncommon for there to be, for example, two separate font files for the
"regular" and "bold" version of the same font; these are separate fonts but the same
font family.</p>

<p>The names produced by this function are suitable for passing to
<a href="#ef_text_compute_available_members_of_font_family">ef_text_compute_available_members_of_font_family</a>, <a href="#ef_font_convert_to_family">ef_font_convert_to_family</a>, and <a href="#ef_text_specific_font">ef_text_specific_font</a>.</p>

<p>To retrieve the names produced by this function from the computed-font-name buffer,
see <a href="#ef_text_computed_count">ef_text_computed_count</a>,
<a href="#ef_text_computed_name_n">ef_text_computed_name_n</a>,
and <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.</p>

<a name="ef_text_compute_available_fonts_with_traits"><h4>void ef_text_compute_available_fonts_with_traits(EF_Font_Traits traits,
						 EF_Font_Traits negative_traits)</h4></a>

<p>Computes the list of all installed fonts on the system which match the given traits;
this might be used, for example, to find all fixed-width fonts.  Fills the
computed-font-name buffer with their names.
If the buffer is already occupied, it is first emptied, as by a
call to <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.</p>

<p>Fonts match the given traits if and only if they posess all the traits specified in
<span class="code">traits</span> and none of the traits specified in
<span class="code">negative_traits</span>.  So for example, to find all bold fonts,
pass <span class="code">traits</span> of <span class="code">EF_FONT_TRAIT_BOLD</span>
pass <span class="code">negative_traits</span> of <span class="code">0</span>.  To
find all non-bold fonts, reverse those parameters.</p>

<p>The names produced by this function are suitable for passing to
<a href="#ef_font_convert_to_face">ef_font_convert_to_face</a>, and for displaying to
the user.</p>

<p>To retrieve the names produced by this function from the computed-font-name buffer,
see <a href="#ef_text_computed_count">ef_text_computed_count</a>,
<a href="#ef_text_computed_name_n">ef_text_computed_name_n</a>,
and <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.</p>

<a name="ef_text_compute_available_members_of_font_family"><h4>void ef_text_compute_available_members_of_font_family(utf8 *family_name)</h4></a>

<p>Computes the list of all fonts belonging to the given family and fills the
computed-font-name buffer with their names.
If the buffer is already occupied, it is first emptied, as by a
call to <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.
For example, a given family might have
regular, bold, italic, and bold-italic versions.</p>

<p>The parameter to this function is most likely obtained from
<a href="#ef_text_compute_available_font_families">ef_text_compute_available_font_families</a>
and the names it produces are suitable for passing to
<a href="#ef_font_convert_to_face">ef_font_convert_to_face</a>, and for displaying to
the user.</p>

<p>Compared to the other <span class="code">ef_text_compute_available_*</span> functions,
this function produces more information.  In addition to the face name, retrievable with
<a href="#ef_text_computed_name_n">ef_text_computed_name_n</a>, it produces for each
found font a description of the style, suitable for presenting to the user - ie the
text "Bold" or "Italic".  This can be retrieved with
<a href="#ef_text_computed_style_name_n">ef_text_computed_style_name_n</a>.  It also
produces a font weight and a set of font traits, retrievable with
<a href="#ef_text_computed_weight_n">ef_text_computed_weight_n</a> and
<a href="#ef_text_computed_traits_n">ef_text_computed_traits_n</a>, respectively.</p>

<a name="ef_text_computed_count"><h4>int32_t ef_text_computed_count()</h4></a>

<p>Returns the number of items in the computed-font-name buffer.  This is zero until
one of the four functions above is called, filling the buffer.  It is also zero after
a call to <a href="#ef_text_discard_computed">ef_text_discard_computed</a>.</p>

<a name="ef_text_computed_name_n"><h4>utf8 *ef_text_computed_name_n(int32_t which)</h4></a>

<p>Returns the name at the given zero-based position in the computed-font-name buffer,
which must have been filled prior to this call.  If the buffer is empty or
<span class="code">which</span> lies beyond its last item, <span class="code">NULL</span>
is returned.  The name will be either a font face name, or a font family name, depending
on the function that filled the buffer.</p>

<p>The string returned by this function is allocated with
<span class="code">malloc</span> and must be freed with <span class="code">free</span>
when the caller no longer needs it.</p>

<a name="ef_text_computed_style_name_n"><h4>utf8 *ef_text_computed_style_name_n(int32_t which)</h4></a>

<p>Returns the style name at the given zero-based position in the computed-font-name
buffer, which must have been filled by
<a href="#ef_text_compute_available_members_of_font_family">ef_text_compute_available_members_of_font_family</a>
prior to this call.  If the buffer is empty, <span class="code">which</span> lies
beyond its last item, or any other function was the last used to fill the buffer,
<span class="code">NULL</span> is returned.</p>

<p>The string returned by this function is allocated with
<span class="code">malloc</span> and must be freed with <span class="code">free</span>
when the caller no longer needs it.</p>

<a name="ef_text_computed_weight_n"><h4>EF_Font_Weight ef_text_computed_weight_n(int32_t which)</h4></a>

<p>Returns the font weight at the given zero-based position in the computed-font-name
buffer, which must have been filled by
<a href="#ef_text_compute_available_members_of_font_family">ef_text_compute_available_members_of_font_family</a>
prior to this call.  If the buffer is empty, <span class="code">which</span> lies
beyond its last item, or any other function was the last used to fill the buffer,
<span class="code">0</span> is returned.</p>

<p>A font weight is, loosely, a measure of how bold the font appears visually, as
described in
<a href="#S_reference_text_fonts">the introduction to this chapter</a>.</p>

<a name="ef_text_computed_traits_n"><h4>EF_Font_Traits ef_text_computed_traits_n(int32_t which)</h4></a>

<p>Returns the set of font traits at the given zero-based position in the
computed-font-name buffer, which must have been filled by
<a href="#ef_text_compute_available_members_of_font_family">ef_text_compute_available_members_of_font_family</a>
prior to this call.  If the buffer is empty, <span class="code">which</span> lies
beyond its last item, or any other function was the last used to fill the buffer,
<span class="code">0</span> is returned.</p>

<a name="ef_text_discard_computed"><h4>void ef_text_discard_computed()</h4></a>

<p>Empties the computed-font-name buffer, reclaiming the memory it uses.</p>

<a name="ef_text_specific_font"><h4>EF_Font ef_text_specific_font(utf8 *family_name,
			      EF_Font_Traits traits,
			      EF_Font_Weight weight,
			      double size)</h4></a>

<p>Allocates and returns a font given its desired family name, traits, weight, and
point size.  May return <span class="code">NULL</span> if no font matching these
characteristics is available.  The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.</p>

<a name="ef_font_delete"><h4>void ef_font_delete(EF_Font font)</h4></a>

<p>Frees a given font, reclaiming the memory it uses.  After this, it should no longer
be used.</p>

<a name="ef_font_name"><h4>utf8 *ef_font_name(EF_Font font)</h4></a>

<p>Returns the PostScript names of the given font (even TrueType fonts have
PostScript names), suitable for passing to calls such as
<a href="#ef_text_specific_font">ef_text_specific_font</a>,
but not necessarily for displaying to the user; in particular, it is not localized to
the user's language.</p>

<p>The string returned by this function is allocated by Emerald Frame using
<span class="code">malloc</span>, and must be freed by the caller using
<span class="code">free</span>.</p>

<a name="ef_font_family_name"><h4>utf8 *ef_font_family_name(EF_Font font)</h4></a>

<p>Returns the family name of the given font.  The names produced by this function are
suitable for passing to
<a href="#ef_text_compute_available_members_of_font_family">ef_text_compute_available_members_of_font_family</a>, <a href="#ef_font_convert_to_family">ef_font_convert_to_family</a>, and <a href="#ef_text_specific_font">ef_text_specific_font</a>.</p>

<p>The string returned by this function is allocated by Emerald Frame using
<span class="code">malloc</span>, and must be freed by the caller using
<span class="code">free</span>.</p>

<a name="ef_font_display_name"><h4>utf8 *ef_font_display_name(EF_Font font)</h4></a>

<p>Returns the name of the given font, localized to the user's preferred language as
determined by the operating system, and therefore suitable for displaying to the
user.</p>

<p>The string returned by this function is allocated by Emerald Frame using
<span class="code">malloc</span>, and must be freed by the caller using
<span class="code">free</span>.</p>

<a name="ef_font_traits"><h4>EF_Font_Traits ef_font_traits(EF_Font font)</h4></a>

<p>Returns the set of traits the given font has.</p>

<a name="ef_font_weight"><h4>int32_t ef_font_weight(EF_Font font)</h4></a>

<p>Returns the weight of the given font.</p>

<p>A font weight is, loosely, a measure of how bold the font appears visually, as
described in
<a href="#S_reference_text_fonts">the introduction to this chapter</a>.</p>

<a name="ef_font_convert_to_face"><h4>EF_Font ef_font_convert_to_face(EF_Font font, utf8 *face_name)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its face, which is changed to the face with the given name.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<a name="ef_font_convert_to_family"><h4>EF_Font ef_font_convert_to_family(EF_Font font, utf8 *family_name)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its family, which is changed to the family with the given name.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<a name="ef_font_convert_to_have_traits"><h4>EF_Font ef_font_convert_to_have_traits(EF_Font font, EF_Font_Traits traits)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its set of traits, which is unioned with the set given.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<p>If neither bold nor unbold is specified, boldness is left unchanged.  Similarly, if
neither italic nor unitalic is specified, italicness is left unchanged.</p>

<a name="ef_font_convert_to_not_have_traits"><h4>EF_Font ef_font_convert_to_not_have_traits(EF_Font font, EF_Font_Traits traits)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its set of traits, which is differenced with the set given.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<p>If neither bold nor unbold is specified, boldness is left unchanged.  Similarly, if
neither italic nor unitalic is specified, italicness is left unchanged.</p>

<a name="ef_font_convert_to_size"><h4>EF_Font ef_font_convert_to_size(EF_Font font, double size)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its set of traits, which is changed to the size given.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<a name="ef_font_convert_to_lighter_weight"><h4>EF_Font ef_font_convert_to_lighter_weight(EF_Font font)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its set of traits, which is changed to the next available weight lighter than its
current weight.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<a name="ef_font_convert_to_heavier_weight"><h4>EF_Font ef_font_convert_to_heavier_weight(EF_Font font)</h4></a>

<p>Allocates and returns a font sharing all its properties with the given font, except
for its set of traits, which is changed to the next available weight heavier than its
current weight.
If no font matching these characteristics is available, may return
<span class="code">NULL</span> or may alternatively return a copy of the given font.
The caller is responsible for freeing the font when it is
no longer needed, using <a href="#ef_font_delete">ef_font_delete</a>.  Note that this
does not modify an existing font; it allocates a new one.</p>

<a name="S_reference_text_fonts_font_attributes"><h3>3.6.1.2. Text - Fonts - Font Attributes</h3></a>

<p>Fonts have many numerical values, called metrics, associated with them.  The
functions in this section allow you, once you have obtained a font, to query its metrics.
These values can be used to perform text layout, if for some reason you do not find
text flows suitable for your purpose.  They can also be used to lay out blocks of text
in relation to each other and to other graphics.</p>

<p>Because it is not my purpose to be a glossary of typography, most of these metrics
have minimal explanation here.</p>

<p>Font attributes are not to be confused with text attributes, which are settings that
control how text is laid out or drawn; text attributes are described in
<a href="#S_reference_text_text_flows_text_attributes">their own section</a>.</p>

<a name="ef_font_horizontal_advancement_for_glyph"><h4>double ef_font_horizontal_advancement_for_glyph(EF_Font font, EF_Glyph glyph)</h4></a>

<p>Returns the horizontal advancement of the given font for the given glyph.  If the
glyph uses vertical layout, this value is zero.</p>

<a name="ef_font_vertical_advancement_for_glyph"><h4>double ef_font_vertical_advancement_for_glyph(EF_Font font, EF_Glyph glyph)</h4></a>

<p>Returns the vertical advancement of the given font for the given glyph.  If the
glyph uses horizontal layout, this value is zero.</p>

<a name="ef_font_ascender"><h4>double ef_font_ascender(EF_Font font)</h4></a>

<p>Returns the ascender of the given font.  This is typically a positive number.</p>

<a name="ef_font_descender"><h4>double ef_font_descender(EF_Font font)</h4></a>

<p>Returns the descender of the given font.  This is typically a negative number.</p>

<a name="ef_font_x_height"><h4>double ef_font_x_height(EF_Font font)</h4></a>

<p>Returns the x-height of the given font.  This is typically a positive number.</p>

<a name="ef_font_cap_height"><h4>double ef_font_cap_height(EF_Font font)</h4></a>

<p>Returns the cap-height of the given font.  This is typically a positive number.</p>

<a name="ef_font_italic_angle"><h4>double ef_font_italic_angle(EF_Font font)</h4></a>

<p>Returns the italic angle of the given font, measured in degrees counterclockwise.
This is typically zero for a non-italic font and a negative number for an italic
font.</p>

<a name="ef_font_leading"><h4>double ef_font_leading(EF_Font font)</h4></a>

<p>Returns the leading of the given font.  This is typically zero.</p>

<a name="ef_font_maximum_horizontal_advancement"><h4>double ef_font_maximum_horizontal_advancement(EF_Font font)</h4></a>

<p>Returns the maximum horizontal advancement of the font for any glyph.</p>

<a name="ef_font_maximum_vertical_advancement"><h4>double ef_font_maximum_vertical_advancement(EF_Font font)</h4></a>

<p>Returns the maximum vertical advancement of the font for any glyph.</p>

<a name="ef_font_underline_position"><h4>double ef_font_underline_position(EF_Font font)</h4></a>

<p>Returns the underline position of the given font, relative to its baseline.  This is
typically a negative number.</p>

<a name="ef_font_underline_thickness"><h4>double ef_font_underline_thickness(EF_Font font)</h4></a>

<p>Returns the underline thickness of the given font, measured in abstract points.
This is typically a positive number.</p>

<a name="ef_font_bounding_rectangle"><h4>void ef_font_bounding_rectangle(EF_Font font,
				double *left,
				double *top,
				double *width,
				double *height)</h4></a>

<p>Returns the smallest rectangle enclosing every glyph in the given font.  Any of the
provided pointers may be NULL.</p>

<a name="ef_font_glyph_bounding_rectangle"><h4>void ef_font_glyph_bounding_rectangle(EF_Font font,
				      EF_Glyph glyph,
				      double *left,
				      double *top,
				      double *width,
				      double *height)</h4></a>

<p>Returns the smallest rectangle enclosing the given glyph in the given font.
Any of the provided pointers may be NULL.</p>

<a name="S_reference_text_text_flows"><h3>3.6.2. Text - Text Flows</h3></a>

<p>A text flow is the means by which your program communicates textual data to
Emerald Frame.  It consists conceptually of a plain string, with <i>attributes</i>
such as font, color, and paragraph style associated with <i>runs</i> of text within the
string.  Its actual representation is platform-dependent, but it has no size limit and
is high-performance.</p>

<a name="S_reference_text_text_flows_general"><h3>3.6.2.1. Text - Text Flows - General</h3></a>

<a name="ef_text_new_text_flow"><h4>EF_Text_Flow ef_text_new_text_flow()</h4></a>

<p>This function allocates and returns a new text flow with no text or attributes, and
width and height of <span class="code">INFINITY</span>, which suppresses line
wrapping.</p>

<a name="ef_text_new_text_flow_with_text"><h4>EF_Text_Flow ef_text_new_text_flow_with_text(utf8 *text)</h4></a>

<p>This function allocates and returns a new text flow with (a copy of) the given
text, and no attributes.</p>

<a name="ef_text_new_text_flow_with_text_and_attributes"><h4>EF_Text_Flow
  ef_text_new_text_flow_with_text_and_attributes(utf8 *text,
					         EF_Text_Attributes attributes)</h4></a>

<p>This function allocates and returns a new text flow with (a copy of) the
given text, and (copies of) the given attributes in a single run that spans the entire
text.</p>

<a name="ef_text_flow_delete"><h4>void ef_text_flow_delete(EF_Text_Flow text_flow)</h4></a>

<p>This function disposes of a text flow, freeing all the memory used for it,
its text, and its attribute runs.</p>

<a name="ef_text_flow_text"><h4>utf8 *ef_text_flow_text(EF_Text_Flow text_flow)</h4></a>

<p>This function returns a copy of the textual data contained in the given text flow.
The copy is allocated with <span class="code">malloc</span> and must be freed
with <span class="code">free</span>.</p>

<a name="ef_text_flow_length"><h4>int32_t ef_text_flow_length(EF_Text_Flow text_flow)</h4></a>

<p>This function returns the number of characters comprising the textual data contained
in the given text flow.</p>

<a name="ef_text_flow_attributes_at_index"><h4>EF_Text_Attributes
  ef_text_flow_attributes_at_index(EF_Text_Flow text_flow,
                                   int32_t index,
                                   int32_t *effective_start,
                                   int32_t *effective_end)</h4></a>

<p>This function returns a copy of the attributes effective in the given text flow
at the given index, with zero being the start.  If the index is out of bounds, behavior
is undefined.  If either of
<span class="code">effective_start</span>
or
<span class="code">effective_end</span>
is not NULL, they are filled with the indices, respectively, of the start and end of the
longest enclosing range of characters in the text flow which Emerald Frame is
easily able to determine to have the same attributes as the given index.</p>

<p>The returned text-attributes object is freshly allocated, and must be freed with
<a href="ef_text_attributes_delete">ef_text_attributes_delete</a>.</p>

<a name="ef_text_flow_enumerate_attributes"><h4>void ef_text_flow_enumerate_attributes(EF_Text_Flow text_flow,
					       int (*callback)(EF_Text_Attributes
							         text_attributes,
							       int32_t start,
							       int32_t end))</h4></a>

<p>This function iterates through the given text flow, calling the provided
callback function on consecutive runs of attributes (not necessarily the longest possible
such runs), such that the entire string is traversed in order.  The string can be
mutated by the callback, but only the portion of it within the range passed; mutations
outside that range will cause the iteration to continue at the wrong place.  The
callback may return either zero, which does nothing special, or one, which causes the
iteration to terminate immediately.</p>

<p>The text-attributes object passed to the callback is both allocated and freed by
this function, so that client code does not need to do anything special in that
regard.</p>

<a name="ef_text_flow_replace_text"><h4>void ef_text_flow_replace_text(EF_Text_Flow text_flow,
				       utf8 *text,
				       int32_t start,
				       int32_t end)</h4></a>

<p>Modifies the given text flow, replacing text in the range beginning at
zero-based index <span class="code">start</span> and ending immediately before
index <span class="code">end</span> with (a copy of) the given text.</p>

<a name="ef_text_flow_delete_text"><h4>void ef_text_flow_delete_text(EF_Text_Flow text_flow,
				      int32_t start,
				      int32_t end)</h4></a>

<p>Modifies the given text flow, deleting text in the range beginning at
zero-based index <span class="code">start</span> and ending immediately before
index <span class="code">end</span>.</p>

<a name="ef_text_flow_set_attributes"><h4>void ef_text_flow_set_attributes(EF_Text_Flow text_flow,
					 EF_Text_Attributes text_attributes,
					 int32_t start,
					 int32_t end)</h4></a>

<p>Modifies the given text flow, overwriting the attributes of the given range
with those in the given attributes.  Only the attributes which are set in
the <span class="code">EF_Text_Attributes</span> are altered; other
attributes already present in the text flow for that range, if any, are
preserved.  The range operated on begins at
zero-based index <span class="code">start</span> and ends immediately before
index <span class="code">end</span>.</p>

<a name="ef_text_flow_remove_attribute"><h4>void ef_text_flow_remove_attribute(EF_Text_Flow text_flow,
				   EF_Text_Attribute_Identifier text_attribute_type,
				   int32_t start,
				   int32_t end)</h4></a>

<p>Modifies the given text flow, removing the identified attribute from the given range.
The range operated on begins at
zero-based index <span class="code">start</span> and ends immediately before
index <span class="code">end</span>.</p>

<a name="S_reference_text_text_flows_drawing"><h3>3.6.2.2. Text - Text Flows - Drawing</h3></a>

<a name="ef_text_flow_natural_size"><h4>double ef_text_flow_natural_size(EF_Text_Flow text_flow, double *width, double *height)</h4></a>

<p>Determines the size that the given text flow would require if drawn, and
places this size in the locations pointed to by <span class="code">width</span> and
<span class="code">height</span>, which may not be <span class="code">NULL</span>.</p>

<a name="ef_text_flow_size"><h4>void ef_text_flow_size(EF_Text_Flow text_flow, double *width, double *height)</h4></a>

<a name="ef_text_flow_set_size"><h4>void ef_text_flow_set_size(EF_Text_Flow text_flow, double width, double height)</h4></a>

<a name="ef_text_flow_draw"><h4>void ef_text_flow_draw(EF_Text_Flow text_flow,
			       EF_Drawable drawable)</h4></a>

<p>Issues OpenGL calls which draw the given text flow into the given drawable,
with the left end (or, for vertical text, the top end) of the first baseline at the
origin.  To draw text at another location, or to align text, simply perform a
translation prior to this call.  Rotated text is also possible.  Furthermore, because
OpenGL calls can be recorded, it is possible to use this function to create a display
list which draws the text, which may be an important optimization if a large amount of
static text needs to be drawn repeatedly.  If you have a large amount of text which
changes, consider using a text flow instead of this function, as there is an efficiency
gain.  Text flows are also the only way to achieve wrapping of text.</p>

<a name="S_reference_text_text_flows_text_attributes"><h3>3.6.2.3. Text - Text Flows - Text Attributes</h3></a>

<p>Text attributes describe how text is laid out or drawn.  They are applied to ranges
of text flows.  A set of attributes is a separate object in its own right;
typically, you will allocate an <span class="code">EF_Text_Attributes</span> object
with <a href="#ef_text_new_attributes">ef_text_new_attributes</a>, configure it with the
other functions in this section, apply it to a text flow with
<a href="#ef_text_flow_set_attributes">ef_text_flow_set_attributes</a>,
and then dispose of it with
<a href="#ef_text_attributes_delete">ef_text_attributes_delete</a>.  However, you might
not always delete it immediately, so as to apply it to more than one range of text.</p>

<p>It is important to note that <span class="code">EF_Text_Flow</span> objects
neither contain nor reference <span class="code">EF_Text_Attributes</span> objects;
rather, they contain the same information, but in some platform-specific form.  This
vastly simplifies the memory management associated with them, because they own all the
data they contain and are responsible for freeing it as appropriate.  Therefore a
text flow will never in any sense take ownership of a text-attributes object;
you always have to free anything you allocate.</p>

<p>Text attributes are not to be confused with font attributes, which are metrics that
describe the shape and layout of glyphs drawn by the font; font attributes are
described in <a href="#S_reference_text_fonts_font_attributes">their own section</a>.</p>

<a name="ef_text_new_attributes"><h4>EF_Text_Attributes ef_text_new_attributes()</h4></a>

<p>Allocates and returns a new text-attributes object, with all attributes initially
unset.</p>

<a name="ef_text_attributes_delete"><h4>void ef_text_attributes_delete(EF_Text_Attributes attributes)</h4></a>

<p>Releases the memory used by the given text-attributes object.</p>

<a name="ef_text_attributes_font"><h4>EF_Font ef_text_attributes_font(EF_Text_Attributes attributes)</h4></a>

<p>Returns the font attribute of the given text-attributes object, or
<span class="code">NULL</span> if it is unset.</p>

<a name="ef_text_attributes_paragraph_style"><h4>EF_Paragraph_Style ef_text_attributes_paragraph_style(EF_Text_Attributes attributes)</h4></a>

<p>Returns the paragraph-style object set in the given text-attributes object, or
<span class="code">NULL</span> if it is unset.</p>

<a name="ef_text_attributes_foreground_color"><h4>void ef_text_attributes_foreground_color(EF_Text_Attributes attributes,
					 double *red,
					 double *green,
					 double *blue,
					 double *alpha)</h4></a>

<p>Returns the foreground color of the given text-attributes object in the provided
pointers, which must not be <span class="code">NULL</span>.  The value for each channel
ranges from <span class="code">0.0</span> to <span class="code">1.0</span>.  If the
foreground color is unset, the pointers are not modified.</p>

<a name="ef_text_attributes_background_color"><h4>void ef_text_attributes_background_color(EF_Text_Attributes attributes,
					 double *red,
					 double *green,
					 double *blue,
					 double *alpha)</h4></a>

<p>Returns the background color of the given text-attributes object in the provided
pointers, which must not be <span class="code">NULL</span>.  The value for each channel
ranges from <span class="code">0.0</span> to <span class="code">1.0</span>.  If the
background color is unset, the pointers are not modified.</p>

<a name="ef_text_attributes_underline_style"><h4>EF_Underline_Style ef_text_attributes_underline_style(EF_Text_Attributes attributes)</h4></a>

<p>Returns the underline style of the given text-attributes object, or
<span class="code">EF_UNDERLINE_STYLE_NONE</span> if it is unset.</p>

<a name="ef_text_attributes_underline_is_colored"><h4>int ef_text_attributes_underline_is_colored(EF_Text_Attributes attributes)</h4></a>

<p>Returns <span class="code">1</span> if the given text-attributes object has an
underline color set, or <span class="code">0</span> if it does not.</p>

<a name="ef_text_attributes_underline_color"><h4>void ef_text_attributes_underline_color(EF_Text_Attributes attributes,
					double *red,
					double *green,
					double *blue,
					double *alpha)</h4></a>

<p>Returns the underline color of the given text-attributes object in the provided
pointers, which must not be <span class="code">NULL</span>.  The value for each channel
ranges from <span class="code">0.0</span> to <span class="code">1.0</span>.  If the
underline color is unset, the pointers are not modified.</p>

<a name="ef_text_attributes_strikethrough_style"><h4>EF_Strikethrough_Style ef_text_attributes_strikethrough_style(EF_Text_Attributes attributes)</h4></a>

<p>Returns the strikethrough style of the given text-attributes object, or
<span class="code">EF_STRIKETHROUGH_STYLE_NONE</span> if it is unset.</p>

<a name="ef_text_attributes_strikethrough_is_colored"><h4>int ef_text_attributes_strikethrough_is_colored(EF_Text_Attributes attributes)</h4></a>

<p>Returns <span class="code">1</span> if the given text-attributes object has a
strikethrough color set, or <span class="code">0</span> if it does not.</p>

<a name="ef_text_attributes_strikethrough_color"><h4>void ef_text_attributes_strikethrough_color(EF_Text_Attributes attributes,
					    double *red,
					    double *green,
					    double *blue,
					    double *alpha)</h4></a>

<p>Returns the strikethrough color of the given text-attributes object in the provided
pointers, which must not be <span class="code">NULL</span>.  The value for each channel
ranges from <span class="code">0.0</span> to <span class="code">1.0</span>.  If the
strikethrough color is unset, the pointers are not modified.</p>

<a name="ef_text_attributes_ligature_style"><h4>EF_Ligature_Style ef_text_attributes_ligature_style(EF_Text_Attributes attributes)</h4></a>

<p>Returns the ligature style of the given text-attributes object, or
<span class="code">EF_LIGATURE_STYLE_STANDARD</span> if it is unset.</p>

<a name="ef_text_attributes_baseline_offset"><h4>double ef_text_attributes_baseline_offset(EF_Text_Attributes attributes)</h4></a>

<p>Returns the baseline offset, in abstract points with positive being upward, of the
given text-attributes object, or <span class="code">0.0</span> if it is unset.</p>

<a name="ef_text_attributes_kerning_is_default"><h4>int ef_text_attributes_kerning_is_default(EF_Text_Attributes attributes)</h4></a>

<p>Returns <span class="code">1</span> if the given text-attributes object has
kerning set to default mode or has kerning unset, or <span class="code">0</span>
if it has kerning set to custom mode.</span>

<a name="ef_text_attributes_kerning"><h4>double ef_text_attributes_kerning(EF_Text_Attributes attributes)</h4></a>

<p>Returns the custom kerning amount set in the given text-attributes object,
in abstract points, with positive being further apart, or <span class="code">0.0</span>
if kerning is set to default mode or is unset.</p>

<a name="ef_text_attributes_outline_style"><h4>EF_Outline_Style ef_text_attributes_outline_style(EF_Text_Attributes attributes)</h4></a>

<p>Returns the outlining mode set in the given text-attributes object, or
<span class="code">EF_OUTLINE_STYLE_FILL_ONLY</span> if it is unset.</span>

<a name="ef_text_attributes_stroke_width"><h4>double ef_text_attributes_stroke_width(EF_Text_Attributes attributes)</h4></a>

<p>Returns the stroke width for outlining set in the given text-attributes object,
in abstract points, or <span class="code">0.0</span> if it is unset.</p>

<a name="ef_text_attributes_obliqueness"><h4>double ef_text_attributes_obliqueness(EF_Text_Attributes attributes)</h4></a>

<p>Returns the obliqueness set in the given text-attributes object, as degrees
clockwise, or <span class="code">0.0</span> if it is unset.</p>

<a name="ef_text_attributes_expansion"><h4>double ef_text_attributes_expansion(EF_Text_Attributes attributes)</h4></a>

<p>Returns the expansion or contraction set in the given text-attributes object,
as abstract points, with positive being expansion, or <span class="code">0.0</span>
if it is unset.</p>

<a name="ef_text_attributes_set_font"><h4>void ef_text_attributes_set_font(EF_Text_Attributes attributes, EF_Font font)</h4></a>

<p>Sets the font attribute of the given text-attributes object to (a copy of) the given
font object.</p>

<a name="ef_text_attributes_set_paragraph_style"><h4>void ef_text_attributes_set_paragraph_style(EF_Text_Attributes attributes,
					    EF_Paragraph_Style paragraph_style)</h4></a>

<p>Sets the paragraph-style attribute of the given text-attributes object to (a copy of)
the given paragraph-style object.</p>

<a name="ef_text_attributes_set_foreground_color"><h4>void ef_text_attributes_set_foreground_color(EF_Text_Attributes attributes,
					     double red,
					     double green,
					     double blue,
					     double alpha)</h4></a>

<p>Sets the foreground-color attribute of the given text-attributes object to the
provided color.  The value for each channel ranges from <span class="code">0.0</span>
to <span class="code">1.0</span>.</p>

<a name="ef_text_attributes_set_background_color"><h4>void ef_text_attributes_set_background_color(EF_Text_Attributes attributes,
					     double red,
					     double green,
					     double blue,
					     double alpha)</h4></a>

<p>Sets the background-color attribute of the given text-attributes object to the
provided color.  The value for each channel ranges from <span class="code">0.0</span>
to <span class="code">1.0</span>.</p>

<a name="ef_text_attributes_set_underline_style"><h4>void ef_text_attributes_set_underline_style(EF_Text_Attributes attributes,
				            EF_Underline_Style underline_style)</h4></a>

<p>Sets the underline-style attribute of the given text-attributes object to the
provided underline style.</p>

<a name="ef_text_attributes_set_underline_color"><h4>void ef_text_attributes_set_underline_color(EF_Text_Attributes attributes,
					    double red,
					    double green,
					    double blue,
					    double alpha)</h4></a>

<p>Sets the underline-color attribute of the given text-attributes object to the
provided color.  The value for each channel ranges from <span class="code">0.0</span>
to <span class="code">1.0</span>.</p>

<a name="ef_text_attributes_set_strikethrough_style"><h4>void ef_text_attributes_strikethrough(EF_Text_Attributes attributes,
				                EF_Strikethrough_Style strikethrough_style)</h4></a>

<p>Sets the strikethrough-style attribute of the given text-attributes object to the
provided strikethrough style.</p>

<a name="ef_text_attributes_set_strikethrough_color"><h4>void ef_text_attributes_set_strikethrough_color(EF_Text_Attributes attributes,
						double red,
						double green,
						double blue,
						double alpha)</h4></a>

<p>Sets the strikethrough-color attribute of the given text-attributes object to the
provided color.  The value for each channel ranges from <span class="code">0.0</span>
to <span class="code">1.0</span>.</p>

<a name="ef_text_attributes_set_ligature_style"><h4>void ef_text_attributes_set_ligature_style(EF_Text_Attributes attributes,
					   EF_Ligature_Style ligature_style)</h4></a>

<p>Sets the ligature-style attribute of the given text-attributes object to the provided
ligature style.</p>

<a name="ef_text_attributes_set_baseline_offset"><h4>void ef_text_attributes_set_baseline_offset(EF_Text_Attributes attributes,
					    double baseline_offset)</h4></a>

<p>Sets the baseline-offset attribute of the given text-attributes object to the provided
baseline offset, in abstract points with positive being upward.</p>

<a name="ef_text_attributes_set_kerning"><h4>void ef_text_attributes_set_kerning(EF_Text_Attributes attributes,
				    double kerning)</h4></a>

<p>Sets the kerning of the given text-attributes object to custom mode (as opposed to
default mode) and sets the custom kerning amount of it to the given amount, in abstract
points, with positive being further apart.</p>

<a name="ef_text_attributes_set_outline_style"><h4>void ef_text_attributes_set_outline_style(EF_Text_Attributes attributes,
				          EF_Outline_Style outline_style)</h4></a>

<p>Sets the outline-style attribute of the given text-attributes object to the given
outline style.</p>

<a name="ef_text_attributes_set_stroke_width"><h4>void ef_text_attributes_set_stroke_width(EF_Text_Attributes attributes,
				         double stroke_width)</h4></a>

<p>Sets the stroke-width-for-outlining attribute of the given text-attributes object
to the given stroke width, in abstract points.</p>

<a name="ef_text_attributes_set_obliqueness"><h4>void ef_text_attributes_set_obliqueness(EF_Text_Attributes attributes,
					double obliqueness)</h4></a>

<p>Sets the obliqueness attribute of the given text-attributes object to the given
obliqueness, as degrees clockwise.</p>

<a name="ef_text_attributes_set_expansion"><h4>void ef_text_attributes_set_expansion(EF_Text_Attributes attributes,
				      double expansion)</h4></a>

<p>Sets the expansion-or-contraction attribute of the given text-attributes object to
the given value, as abstract points, with positive being expansion.</p>

<a name="ef_text_attributes_unset_font"><h4>void ef_text_attributes_unset_font(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the font attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_paragraph_style"><h4>void ef_text_attributes_unset_paragraph_style(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the paragraph-style attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_foreground_color"><h4>void ef_text_attributes_unset_foreground_color(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the foreground-color attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_background_color"><h4>void ef_text_attributes_unset_background_color(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the background-color attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_underline_style"><h4>void ef_text_attributes_unset_underline_style(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the underline-style attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_underline_color"><h4>void ef_text_attributes_unset_underline_color(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the underline-color attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_strikethrough_style"><h4>void ef_text_attributes_unset_strikethrough_style(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the strikethrough-style attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_strikethrough_color"><h4>void ef_text_attributes_unset_strikethrough_color(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the strikethrough-color attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_ligature_style"><h4>void ef_text_attributes_unset_ligature_style(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the ligature-style attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_baseline_offset"><h4>void ef_text_attributes_unset_baseline_offset(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the baseline-offset attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_kerning"><h4>void ef_text_attributes_unset_kerning(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the custom-kerning attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_outline_style"><h4>void ef_text_attributes_unset_outline_style(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the outline-style attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_stroke_width"><h4>void ef_text_attributes_unset_stroke_width(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the stroke-width attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_obliqueness"><h4>void ef_text_attributes_unset_obliqueness(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the obliqueness attribute of the given text-attributes object.</p>

<a name="ef_text_attributes_unset_expansion"><h4>void ef_text_attributes_unset_expansion(EF_Text_Attributes attributes)</h4></a>

<p>Unsets the expansion attribute of the given text-attributes object.</p>

<a name="S_reference_text_text_flows_paragraph_styles"><h3>3.6.2.4. Text - Text Flows - Paragraph Styles</h3></a>

<a name="ef_text_new_paragraph_style"><h4>EF_Paragraph_Style ef_text_new_paragraph_style()</h4></a>

<p>Allocates and returns a new paragraph-style object.</p>

<a name="ef_paragraph_style_delete"><h4>void ef_paragraph_style_delete(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Releases the memory used by a paragraph-style object.</p>

<a name="ef_paragraph_style_alignment"><h4>EF_Paragraph_Alignment ef_paragraph_style_alignment(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the paragraph-alignment attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_first_line_head_indent"><h4>double ef_paragraph_style_first_line_head_indent(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the first-line-head-indent attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_head_indent"><h4>double ef_paragraph_style_head_indent(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the head-indent attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_tail_indent"><h4>double ef_paragraph_style_tail_indent(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the tail-indent attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_line_height_multiple"><h4>double ef_paragraph_style_line_height_multiple(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the line-indent-multiple attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_minimum_line_height"><h4>double ef_paragraph_style_minimum_line_height(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the minimum-line-height attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_has_maximum_line_height"><h4>int ef_paragraph_style_has_maximum_line_height(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns whether the given paragraph-style object has a maximum-line-height attribute;
<span class="code">1</span> if it does, or <span class="code">0</span> if it does
not.</p>

<a name="ef_paragraph_style_maximum_line_height"><h4>double ef_paragraph_style_maximum_line_height(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the maximum-line-height attribute of the given paragraph-style object, or
<span class="code">0.0</span> if it does not have one.</p>

<a name="ef_paragraph_style_line_spacing"><h4>double ef_paragraph_style_line_spacing(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the line-spacing attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_paragraph_spacing"><h4>double ef_paragraph_style_paragraph_spacing(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the paragraph-spacing attribute of the given paragraph-style object.</p>

<a name="ef_paragraph_style_paragraph_spacing_before"><h4>double ef_paragraph_style_paragraph_spacing_before(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Returns the paragraph-spacing-before attribute of the given paragraph-style
object.</p>

<a name="ef_paragraph_style_set_alignment"><h4>void ef_paragraph_style_set_alignment(EF_Paragraph_Style paragraph_style,
				      EF_Paragraph_Alignment paragraph_alignment)</h4></a>

<p>Sets the alignment attribute of the given paragraph-style object to the given
paragraph alignment.</p>

<a name="ef_paragraph_style_set_first_line_head_indent"><h4>void ef_paragraph_style_set_first_line_head_indent(EF_Paragraph_Style paragraph_style,
						   double first_line_head_indent)</h4></a>

<p>Sets the first-line-head-indent attribute of the given paragraph-style object to the
given value.</p>

<a name="ef_paragraph_style_set_head_indent"><h4>void ef_paragraph_style_set_head_indent(EF_Paragraph_Style paragraph_style,
					double head_indent)</h4></a>

<p>Sets the head-indent attribute of the given paragraph-style object to the given
value.</p>

<a name="ef_paragraph_style_set_tail_indent"><h4>void ef_paragraph_style_set_tail_indent(EF_Paragraph_Style paragraph_style,
					double tail_indent)</h4></a>

<p>Sets the tail-indent attribute of the given paragraph-style object to the given
value.</p>

<a name="ef_paragraph_style_set_line_height_multiple"><h4>void ef_paragraph_style_set_line_height_multiple(EF_Paragraph_Style paragraph_style,
						 double line_height_multiple)</h4></a>

<p>Sets the line-height-multiple attribute of the given paragraph-style object to the
given value.</p>

<a name="ef_paragraph_style_set_minimum_line_height"><h4>void ef_paragraph_style_set_minimum_line_height(EF_Paragraph_Style paragraph_style,
						double minimum_line_height)</h4></a>

<p>Sets the minimum-line-height attribute of the given paragraph-style object to the
given value.</p>

<a name="ef_paragraph_style_set_no_maximum_line_height"><h4>void ef_paragraph_style_set_no_maximum_line_height(EF_Paragraph_Style paragraph_style)</h4></a>

<p>Sets the maximum-line-height attribute of the given paragraph-style object to be
no maximum line height.</p>

<a name="ef_paragraph_style_set_maximum_line_height"><h4>void ef_paragraph_style_set_maximum_line_height(EF_Paragraph_Style paragraph_style,
						double maximum_line_height)</h4></a>

<p>Sets the maximum-line-height attribute of the given paragraph-style object to the
given value.</p>

<a name="ef_paragraph_style_set_line_spacing"><h4>void ef_paragraph_style_set_line_spacing(EF_Paragraph_Style paragraph_style,
					 double line_spacing)</h4></a>

<p>Sets the line-spacing attribute of the given paragraph-style object to the given
value.</p>

<a name="ef_paragraph_style_set_paragraph_spacing"><h4>void ef_paragraph_style_set_paragraph_spacing(EF_Paragraph_Style paragraph_style,
					      double paragraph_spacing)</h4></a>

<p>Sets the paragraph-spacing attribute of the given paragraph-style object to the given
value.</p>

<a name="ef_paragraph_style_set_paragraph_spacing_before"><h4>void ef_paragraph_style_set_paragraph_spacing_before(EF_Paragraph_Style paragraph_style,
						     double paragraph_spacing_before)</h4></a>

<p>Sets the paragraph-spacing-before attribute of the given paragraph-style object to
the given value.</p>

<a name="S_reference_configuration"><h2>3.7. Configuration</h2></a>

<a name="ef_configuration_resource_directory"><h4>utf8 *ef_configuration_resource_directory()</h4></a>

<p>Returns the path to a platform-specific directory where resource files bundled as
part of the application may be found.  The path is returned with a trailing slash (or
operating-system-appropriate path component separator).  The path is in memory managed
by the library and is valid only until the next call to this function; therefore, this
function is not thread-safe.</p>

<p>On the Mac, this is the <span class="code">Resources</span> directory inside the
application bundle.</p>

<p>On Windows, this is the directory <span class="code">Resources</span> immediately
inside the directory containing the executable.</p>

<a name="S_reference_pasteboard"><h2>3.8. Pasteboard</h2></a>

</body>
</html>
